<html lang="vi"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Video Effects Database v2.0 - Editable</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --card-bg: #ffffff;
            --border: #e2e8f0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        /* Editable indicator */
        [contenteditable="true"] {
            position: relative;
            border: 1px dashed transparent;
            transition: all 0.3s ease;
        }

        [contenteditable="true"]:hover {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.05);
        }

        [contenteditable="true"]:focus {
            outline: 2px solid var(--primary);
            background: white;
            border-color: var(--primary);
        }

        /* Auto-save indicator */
        .auto-save-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--secondary);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            display: none;
            z-index: 1002;
            animation: slideInRight 0.3s ease;
        }

        .auto-save-indicator.show {
            display: block;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
        }

        .header h1 {
            color: var(--dark);
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .header h1 .icon {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header h1 .main-title {
            display: inline-block;
        }

        .version-badge {
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.4em;
            font-weight: 600;
            display: inline-block;
        }

        .header-subtitle {
            color: var(--gray);
            margin-top: 10px;
        }

        .header-controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--secondary), #059669);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #dc2626);
            color: white;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            gap: 10px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .nav-tab {
            padding: 12px 20px;
            border: none;
            background: transparent;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray);
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-tab:hover {
            background: var(--light);
            color: var(--primary);
        }

        .nav-tab.active {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .nav-tab[contenteditable="true"]:focus {
            outline: 2px solid var(--warning);
            background: white;
            color: var(--dark);
        }

        /* Sections */
        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
            flex-wrap: wrap;
            gap: 10px;
        }

        .card-title {
            font-size: 1.4em;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .card-title .badge {
            font-size: 0.6em;
            padding: 4px 12px;
            border-radius: 15px;
            background: var(--primary);
            color: white;
        }

        /* Grid Layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        /* Stats Cards */
        .stat-card {
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card.green {
            background: linear-gradient(135deg, var(--secondary), #059669);
        }

        .stat-card.orange {
            background: linear-gradient(135deg, var(--warning), #d97706);
        }

        .stat-card.red {
            background: linear-gradient(135deg, var(--danger), #dc2626);
        }

        .stat-card.blue {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: linear-gradient(135deg, var(--dark), #334155);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        th:first-child {
            border-radius: 10px 0 0 0;
        }

        th:last-child {
            border-radius: 0 10px 0 0;
        }

        tr:hover {
            background: var(--light);
        }

        /* Editable cells */
        .editable {
            cursor: pointer;
            position: relative;
            padding: 8px 12px;
            border-radius: 5px;
            transition: background 0.3s ease;
            display: inline-block;
            min-width: 50px;
        }

        .editable:hover {
            background: #e0e7ff;
        }

        .editable:focus {
            outline: 2px solid var(--primary);
            background: white;
        }

        /* Complexity badges */
        .complexity {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .complexity.high {
            background: #fef3c7;
            color: #d97706;
        }

        .complexity.very-high {
            background: #fee2e2;
            color: #dc2626;
        }

        .complexity.medium {
            background: #dbeafe;
            color: #2563eb;
        }

        .complexity.low {
            background: #d1fae5;
            color: #059669;
        }

        /* Progress bars */
        .progress-bar {
            height: 10px;
            background: var(--border);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        /* Workflow Diagram */
        .workflow-container {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-radius: 15px;
            padding: 30px;
            color: white;
            overflow-x: auto;
        }

        .workflow-diagram {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            min-width: 800px;
        }

        .workflow-step {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            flex: 1;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .workflow-step:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }

        .workflow-step .step-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .workflow-step .step-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .workflow-step .step-desc {
            font-size: 0.85em;
            opacity: 0.8;
        }

        .workflow-arrow {
            font-size: 1.5em;
            color: var(--secondary);
        }

        /* Stack Diagram */
        .stack-layer {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 5px solid var(--primary);
        }

        .stack-layer:nth-child(2) {
            border-left-color: var(--secondary);
        }

        .stack-layer:nth-child(3) {
            border-left-color: var(--warning);
        }

        .stack-layer:nth-child(4) {
            border-left-color: var(--danger);
        }

        .stack-layer:nth-child(5) {
            border-left-color: #8b5cf6;
        }

        .layer-title {
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .tool-grid {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .tool-item {
            background: var(--light);
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tool-item:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.05);
        }

        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        /* Scorecard */
        .scorecard {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid var(--border);
        }

        .score-section {
            margin-bottom: 25px;
        }

        .score-section-title {
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dashed var(--border);
        }

        .score-item label {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .score-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .score-item input[type="number"] {
            width: 80px;
            padding: 8px;
            border: 2px solid var(--border);
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
        }

        .total-score {
            font-size: 2em;
            font-weight: 700;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            color: white;
            border-radius: 15px;
            margin-top: 20px;
        }

        /* Charts using CSS */
        .chart-bar {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .chart-label {
            width: 120px;
            font-weight: 500;
            font-size: 0.9em;
        }

        .chart-bar-container {
            flex: 1;
            height: 30px;
            background: var(--border);
            border-radius: 15px;
            overflow: hidden;
        }

        .chart-bar-fill {
            height: 100%;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: 600;
            font-size: 0.85em;
            transition: width 1s ease;
        }

        /* Pie chart simulation */
        .pie-chart {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: conic-gradient(
                var(--primary) 0deg 93deg,
                var(--secondary) 93deg 151deg,
                var(--warning) 151deg 235deg,
                var(--danger) 235deg 266deg,
                #8b5cf6 266deg 288deg,
                #3b82f6 288deg 350deg,
                #ec4899 350deg 360deg
            );
            margin: 0 auto;
            position: relative;
        }

        .pie-chart::before {
            content: '';
            position: absolute;
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .pie-legend {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }

        /* Template Code Block */
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* Decision Tree */
        .decision-tree {
            background: linear-gradient(135deg, #1e293b, #334155);
            padding: 30px;
            border-radius: 15px;
            color: white;
        }

        .decision-node {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 10px;
            margin: 10px 0;
            display: inline-block;
        }

        .decision-node.question {
            background: var(--primary);
        }

        .decision-node.answer {
            background: var(--secondary);
        }

        /* Checklist */
        .checklist {
            background: var(--light);
            padding: 20px;
            border-radius: 10px;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checklist-item input[type="checkbox"] {
            width: 22px;
            height: 22px;
            cursor: pointer;
        }

        .checklist-item span {
            flex: 1;
        }

        .checklist-item.checked span {
            text-decoration: line-through;
            color: var(--gray);
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: var(--gray);
        }

        .modal-close:hover {
            color: var(--danger);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1001;
        }

        .toast {
            background: var(--dark);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .toast.success {
            background: var(--secondary);
        }

        .toast.error {
            background: var(--danger);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* KPI Dashboard */
        .kpi-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
        }

        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .kpi-title {
            font-weight: 600;
            color: var(--gray);
            font-size: 0.9em;
        }

        .kpi-value {
            font-size: 2em;
            font-weight: 700;
            color: var(--dark);
        }

        .kpi-change {
            font-size: 0.85em;
            padding: 3px 10px;
            border-radius: 10px;
        }

        .kpi-change.positive {
            background: #d1fae5;
            color: #059669;
        }

        .kpi-change.negative {
            background: #fee2e2;
            color: #dc2626;
        }

        /* Assistant Cards */
        .assistant-card {
            background: linear-gradient(135deg, white, var(--light));
            border-radius: 15px;
            padding: 20px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .assistant-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(99, 102, 241, 0.2);
        }

        .assistant-name {
            font-weight: 700;
            color: var(--dark);
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .assistant-purpose {
            color: var(--gray);
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .assistant-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            background: var(--light);
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            color: var(--gray);
        }

        /* Daily Report */
        .report-container {
            background: white;
            border: 2px solid var(--dark);
            border-radius: 0;
            font-family: 'Courier New', monospace;
        }

        .report-header {
            background: var(--dark);
            color: white;
            padding: 15px 20px;
            text-align: center;
            font-weight: 700;
        }

        .report-body {
            padding: 20px;
        }

        .report-row {
            display: flex;
            border-bottom: 1px dashed var(--gray);
            padding: 10px 0;
        }

        .report-label {
            width: 200px;
            font-weight: 600;
        }

        .report-value {
            flex: 1;
        }

        /* Add/Remove buttons for table rows */
        .row-actions {
            display: flex;
            gap: 5px;
        }

        .btn-icon {
            width: 30px;
            height: 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .btn-icon.add {
            background: var(--secondary);
            color: white;
        }

        .btn-icon.delete {
            background: var(--danger);
            color: white;
        }

        .btn-icon:hover {
            transform: scale(1.1);
        }

        /* Star Rating */
        .skill-rating {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
        }

        .skill-rating label {
            font-weight: 500;
            min-width: 120px;
        }

        .star-rating {
            display: flex;
            gap: 5px;
        }

        .star {
            font-size: 1.5em;
            color: #d1d5db;
            cursor: pointer;
            transition: color 0.2s ease, transform 0.2s ease;
        }

        .star:hover {
            transform: scale(1.2);
        }

        .star.selected {
            color: #fbbf24;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5em;
            }

            .grid-2, .grid-3, .grid-4 {
                grid-template-columns: 1fr;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .nav-tab {
                width: 100%;
                text-align: center;
            }

            .workflow-diagram {
                flex-direction: column;
            }

            .workflow-arrow {
                transform: rotate(90deg);
            }
        }

        /* Print styles */
        @media print {
            body {
                background: white;
                padding: 0;
            }

            .header-controls, .nav-tabs, .btn {
                display: none !important;
            }

            .section {
                display: block !important;
                page-break-after: always;
            }

            .card {
                box-shadow: none;
                border: 1px solid #ccc;
            }

            .auto-save-indicator {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <!-- Auto-save indicator -->
    <div class="auto-save-indicator" id="autoSaveIndicator">
        ‚úì ƒê√£ t·ª± ƒë·ªông l∆∞u
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>
                <span class="icon">üé¨</span>
                <span class="main-title" contenteditable="true" onblur="updateConfig('mainTitle', this.textContent)" id="mainTitle">AI Video Effects Database</span>
                <span class="version-badge" contenteditable="true" onblur="updateConfig('version', this.textContent)" id="version">v2.0</span>
            </h1>
            <p class="header-subtitle" contenteditable="true" onblur="updateConfig('subtitle', this.textContent)" id="subtitle">C√¥ng c·ª• &amp; Quy tr√¨nh</p>
            <div class="header-controls">
                <button class="btn btn-primary" onclick="saveData()">
                    üíæ L∆∞u d·ªØ li·ªáu
                </button>
                <button class="btn btn-success" onclick="exportHTML()">
                    üìÑ Xu·∫•t HTML
                </button>
                <button class="btn btn-warning" onclick="exportJSON()">
                    üìä Xu·∫•t JSON
                </button>
                <button class="btn btn-danger" onclick="resetData()">
                    üîÑ Reset m·∫∑c ƒë·ªãnh
                </button>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav-tabs" id="navTabs"><button class="nav-tab">üìä <span contenteditable="true" onblur="updateNavTab(0, this.textContent)">T·ªïng quan</span></button><button class="nav-tab active">üõ†Ô∏è <span contenteditable="true" onblur="updateNavTab(1, this.textContent)">C√¥ng c·ª•</span></button><button class="nav-tab">ü§ñ <span contenteditable="true" onblur="updateNavTab(2, this.textContent)">AI Assistants</span></button><button class="nav-tab">üîÑ <span contenteditable="true" onblur="updateNavTab(3, this.textContent)">Quy tr√¨nh</span></button><button class="nav-tab">üìã <span contenteditable="true" onblur="updateNavTab(4, this.textContent)">SOP Chi ti·∫øt</span></button><button class="nav-tab">üìä <span contenteditable="true" onblur="updateNavTab(5, this.textContent)">KPI &amp; B√°o c√°o</span></button><button class="nav-tab">üìö <span contenteditable="true" onblur="updateNavTab(6, this.textContent)">Prompt Library</span></button><button class="nav-tab">üå≥ <span contenteditable="true" onblur="updateNavTab(7, this.textContent)">Decision Tree</span></button><button class="nav-tab">‚ö° <span contenteditable="true" onblur="updateNavTab(8, this.textContent)">Capacity</span></button><button class="nav-tab">üìö <span contenteditable="true" onblur="updateNavTab(9, this.textContent)">Training</span></button></div>

        <!-- Section 1: Overview -->
        <div id="overview" class="section">
            <!-- Stats Summary -->
            <div class="grid-4" style="margin-bottom: 25px;">
                <div class="stat-card">
                    <div class="stat-number" contenteditable="true" onblur="updateStat('totalRecords', this.textContent)" id="totalRecords">163</div>
                    <div class="stat-label" contenteditable="true" onblur="updateStat('totalRecordsLabel', this.textContent)" id="totalRecordsLabel">T·ªïng Records</div>
                </div>
                <div class="stat-card green">
                    <div class="stat-number" contenteditable="true" onblur="updateStat('totalEffects', this.textContent)" id="totalEffects">9</div>
                    <div class="stat-label" contenteditable="true" onblur="updateStat('totalEffectsLabel', this.textContent)" id="totalEffectsLabel">Lo·∫°i hi·ªáu ·ª©ng</div>
                </div>
                <div class="stat-card orange">
                    <div class="stat-number" contenteditable="true" onblur="updateStat('totalTools', this.textContent)" id="totalTools">15+</div>
                    <div class="stat-label" contenteditable="true" onblur="updateStat('totalToolsLabel', this.textContent)" id="totalToolsLabel">C√¥ng c·ª• AI</div>
                </div>
                <div class="stat-card blue">
                    <div class="stat-number" contenteditable="true" onblur="updateStat('avgTime', this.textContent)" id="avgTime">35</div>
                    <div class="stat-label" contenteditable="true" onblur="updateStat('avgTimeLabel', this.textContent)" id="avgTimeLabel">Ph√∫t/Job TB</div>
                </div>
            </div>

            <!-- Effects Table -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('effectsTableTitle', this.textContent)" id="effectsTableTitle">üìä Th·ªëng k√™ s·ªë l∆∞·ª£ng theo lo·∫°i hi·ªáu ·ª©ng</span>
                        <span class="badge">C√≥ th·ªÉ s·ª≠a</span>
                    </div>
                    <button class="btn btn-primary" onclick="addEffectRow()">‚ûï Th√™m d√≤ng</button>
                </div>
                <div class="table-container">
                    <table id="effectsTable">
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('effects', 0, this.textContent)">STT</th>
                                <th contenteditable="true" onblur="updateTableHeader('effects', 1, this.textContent)">Lo·∫°i hi·ªáu ·ª©ng</th>
                                <th contenteditable="true" onblur="updateTableHeader('effects', 2, this.textContent)">S·ªë l∆∞·ª£ng records</th>
                                <th contenteditable="true" onblur="updateTableHeader('effects', 3, this.textContent)">T·ª∑ l·ªá %</th>
                                <th contenteditable="true" onblur="updateTableHeader('effects', 4, this.textContent)">ƒê·ªô ph·ª©c t·∫°p</th>
                                <th contenteditable="true" onblur="updateTableHeader('effects', 5, this.textContent)">Bi·ªÉu ƒë·ªì</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="effectsBody"><tr>
                    <td>1</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(0, 'name', this.textContent)">M·∫∑c ƒë·ªãnh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(0, 'records', parseInt(this.textContent))">42</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(0, 'percent', parseFloat(this.textContent))">25.8%</span></td>
                    <td>
                        <select onchange="updateEffect(0, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option>Th·∫•p</option>
                            <option>Trung b√¨nh</option>
                            <option selected="">Cao</option>
                            <option>R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 25.8%; background: #6366f1;"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(0)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td>2</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(1, 'name', this.textContent)">Th√™m n·ªôi th·∫•t</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(1, 'records', parseInt(this.textContent))">26</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(1, 'percent', parseFloat(this.textContent))">16%</span></td>
                    <td>
                        <select onchange="updateEffect(1, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option>Th·∫•p</option>
                            <option selected="">Trung b√¨nh</option>
                            <option>Cao</option>
                            <option>R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 16%; background: #10b981;"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(1)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td>3</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(2, 'name', this.textContent)">4 m√πa (Seasonal)</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(2, 'records', parseInt(this.textContent))">38</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(2, 'percent', parseFloat(this.textContent))">23.3%</span></td>
                    <td>
                        <select onchange="updateEffect(2, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option>Th·∫•p</option>
                            <option>Trung b√¨nh</option>
                            <option selected="">Cao</option>
                            <option>R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 23.3%; background: #f59e0b;"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(2)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td>4</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(3, 'name', this.textContent)">D2N (Day to Night)</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(3, 'records', parseInt(this.textContent))">14</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(3, 'percent', parseFloat(this.textContent))">8.6%</span></td>
                    <td>
                        <select onchange="updateEffect(3, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option>Th·∫•p</option>
                            <option selected="">Trung b√¨nh</option>
                            <option>Cao</option>
                            <option>R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 8.6%; background: #ef4444;"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(3)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td>5</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(4, 'name', this.textContent)">Trang tr√≠ Noel</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(4, 'records', parseInt(this.textContent))">10</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(4, 'percent', parseFloat(this.textContent))">6.1%</span></td>
                    <td>
                        <select onchange="updateEffect(4, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option>Th·∫•p</option>
                            <option selected="">Trung b√¨nh</option>
                            <option>Cao</option>
                            <option>R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 6.1%; background: #8b5cf6;"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(4)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td>6</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(5, 'name', this.textContent)">Th√™m ng∆∞·ªùi</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(5, 'records', parseInt(this.textContent))">28</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(5, 'percent', parseFloat(this.textContent))">17.2%</span></td>
                    <td>
                        <select onchange="updateEffect(5, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option>Th·∫•p</option>
                            <option>Trung b√¨nh</option>
                            <option>Cao</option>
                            <option selected="">R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 17.2%; background: #3b82f6;"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(5)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td>7</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(6, 'name', this.textContent)">N·ªï (Explosion)</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(6, 'records', parseInt(this.textContent))">11</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(6, 'percent', parseFloat(this.textContent))">6.7%</span></td>
                    <td>
                        <select onchange="updateEffect(6, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option>Th·∫•p</option>
                            <option>Trung b√¨nh</option>
                            <option selected="">Cao</option>
                            <option>R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 6.7%; background: #ec4899;"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(6)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td>8</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(7, 'name', this.textContent)">Th·∫Øp l·ª≠a</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(7, 'records', parseInt(this.textContent))">16</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(7, 'percent', parseFloat(this.textContent))">9.8%</span></td>
                    <td>
                        <select onchange="updateEffect(7, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option selected="">Th·∫•p</option>
                            <option>Trung b√¨nh</option>
                            <option>Cao</option>
                            <option>R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 9.8%; background: #14b8a6;"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(7)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td>9</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(8, 'name', this.textContent)">D·ª±ng ·∫£nh theo ph·∫ßn</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(8, 'records', parseInt(this.textContent))">17</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(8, 'percent', parseFloat(this.textContent))">10.4%</span></td>
                    <td>
                        <select onchange="updateEffect(8, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option>Th·∫•p</option>
                            <option>Trung b√¨nh</option>
                            <option>Cao</option>
                            <option selected="">R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 10.4%; background: #f97316;"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(8)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr></tbody>
                    </table>
                </div>
            </div>

            <!-- Visual Chart -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('chartTitle', this.textContent)" id="chartTitle">üìà Ph√¢n b·ªë hi·ªáu ·ª©ng</span>
                    </div>
                </div>
                <div class="grid-2">
                    <div>
                        <div id="barChart"><div class="chart-bar">
                    <span class="chart-label">M·∫∑c ƒë·ªãnh</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: 77.4%; background: #6366f1;">
                            42
                        </div>
                    </div>
                </div><div class="chart-bar">
                    <span class="chart-label">Th√™m n·ªôi th·∫•t</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: 48%; background: #10b981;">
                            26
                        </div>
                    </div>
                </div><div class="chart-bar">
                    <span class="chart-label">4 m√πa (Seasonal)</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: 69.9%; background: #f59e0b;">
                            38
                        </div>
                    </div>
                </div><div class="chart-bar">
                    <span class="chart-label">D2N (Day to Night)</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: 25.799999999999997%; background: #ef4444;">
                            14
                        </div>
                    </div>
                </div><div class="chart-bar">
                    <span class="chart-label">Trang tr√≠ Noel</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: 18.299999999999997%; background: #8b5cf6;">
                            10
                        </div>
                    </div>
                </div><div class="chart-bar">
                    <span class="chart-label">Th√™m ng∆∞·ªùi</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: 51.599999999999994%; background: #3b82f6;">
                            28
                        </div>
                    </div>
                </div><div class="chart-bar">
                    <span class="chart-label">N·ªï (Explosion)</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: 20.1%; background: #ec4899;">
                            11
                        </div>
                    </div>
                </div><div class="chart-bar">
                    <span class="chart-label">Th·∫Øp l·ª≠a</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: 29.400000000000002%; background: #14b8a6;">
                            16
                        </div>
                    </div>
                </div><div class="chart-bar">
                    <span class="chart-label">D·ª±ng ·∫£nh theo ph·∫ßn</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: 31.200000000000003%; background: #f97316;">
                            17
                        </div>
                    </div>
                </div></div>
                    </div>
                    <div style="text-align: center;">
                        <div class="pie-chart"></div>
                        <div class="pie-legend" id="pieLegend"><div class="legend-item">
                    <div class="legend-color" style="background: #6366f1;"></div>
                    <span>M·∫∑c ƒë·ªãnh (25.8%)</span>
                </div><div class="legend-item">
                    <div class="legend-color" style="background: #10b981;"></div>
                    <span>Th√™m n·ªôi th·∫•t (16%)</span>
                </div><div class="legend-item">
                    <div class="legend-color" style="background: #f59e0b;"></div>
                    <span>4 m√πa (Seasonal) (23.3%)</span>
                </div><div class="legend-item">
                    <div class="legend-color" style="background: #ef4444;"></div>
                    <span>D2N (Day to Night) (8.6%)</span>
                </div><div class="legend-item">
                    <div class="legend-color" style="background: #8b5cf6;"></div>
                    <span>Trang tr√≠ Noel (6.1%)</span>
                </div><div class="legend-item">
                    <div class="legend-color" style="background: #3b82f6;"></div>
                    <span>Th√™m ng∆∞·ªùi (17.2%)</span>
                </div><div class="legend-item">
                    <div class="legend-color" style="background: #ec4899;"></div>
                    <span>N·ªï (Explosion) (6.7%)</span>
                </div><div class="legend-item">
                    <div class="legend-color" style="background: #14b8a6;"></div>
                    <span>Th·∫Øp l·ª≠a (9.8%)</span>
                </div><div class="legend-item">
                    <div class="legend-color" style="background: #f97316;"></div>
                    <span>D·ª±ng ·∫£nh theo ph·∫ßn (10.4%)</span>
                </div></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 2: Tools -->
        <div id="tools" class="section active">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('toolsTableTitle', this.textContent)" id="toolsTableTitle">üõ†Ô∏è H·ªá sinh th√°i c√¥ng c·ª• hi·ªán t·∫°i vs ƒë·ªÅ xu·∫•t m·ªü r·ªông</span>
                    </div>
                    <button class="btn btn-primary" onclick="addToolRow()">‚ûï Th√™m c√¥ng c·ª•</button>
                </div>
                <div class="table-container">
                    <table id="toolsTable">
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('tools', 0, this.textContent)">C√¥ng c·ª• hi·ªán t·∫°i</th>
                                <th contenteditable="true" onblur="updateTableHeader('tools', 1, this.textContent)">Vai tr√≤</th>
                                <th contenteditable="true" onblur="updateTableHeader('tools', 2, this.textContent)">C√¥ng c·ª• ƒë·ªÅ xu·∫•t</th>
                                <th contenteditable="true" onblur="updateTableHeader('tools', 3, this.textContent)">M√¥ t·∫£</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="toolsBody"><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(0, 'current', this.textContent)">N·ªÅn t·∫£ng t√≠ch h·ª£p&nbsp;Higgsfield</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(0, 'currentRole', this.textContent)">Video generation ch√≠nh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(0, 'proposed', this.textContent)" style="font-weight: 600; color: var(--primary);">Picsart Flow</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(0, 'proposedRole', this.textContent)">N·ªÅn t·∫£ng t√≠ch h·ª£p c√°c c√¥ng c·ª• t·∫°o ·∫£nh v√† video</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTool(0)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(1, 'current', this.textContent)">N·ªÅn t·∫£ng t√≠ch h·ª£p Envato</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(1, 'currentRole', this.textContent)">Video generation</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(1, 'proposed', this.textContent)" style="font-weight: 600; color: var(--primary);">Picsart Flow</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(1, 'proposedRole', this.textContent)">N·ªÅn t·∫£ng t√≠ch h·ª£p c√°c c√¥ng c·ª• t·∫°o ·∫£nh v√† video</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTool(1)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(2, 'current', this.textContent)">Gemini</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(2, 'currentRole', this.textContent)">T·∫°o ·∫£nh input</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(2, 'proposed', this.textContent)" style="font-weight: 600; color: var(--primary);">Nano Banana Pro</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(2, 'proposedRole', this.textContent)">S·ª≠ d·ª•ng trong&nbsp;Picsart Flow ho·∫∑c WeavyAI, FreePik AI</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTool(2)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(3, 'current', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(3, 'currentRole', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(3, 'proposed', this.textContent)" style="font-weight: 600; color: var(--primary);">Weavy</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(3, 'proposedRole', this.textContent)">N·ªÅn t·∫£ng t√≠ch h·ª£p c√°c c√¥ng c·ª• t·∫°o ·∫£nh v√† video</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTool(3)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr></tbody>
                    </table>
                </div>
            </div>

            <!-- Automation Stack -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('stackTitle', this.textContent)" id="stackTitle">üèóÔ∏è Quy tr√¨nh chu·∫©n h√≥a t·∫°o Video AI</span>
                    </div>
                </div>
                <div id="stackLayers"><div class="stack-layer">
                    <div class="layer-title" contenteditable="true" onblur="updateStackLayer(0, 'title', this.textContent)">LAYER 1: AI Assistants (Prompt Generation)</div>
                    <div class="tool-grid" id="toolGrid0">
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(0, 0, this.textContent)">Gems (Google)</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(0, 1, this.textContent)">CustomGPT (OpenAI)</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(0, 2, this.textContent)"><br></div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(0, 3, this.textContent)"><br></div>
                        
                        <button class="btn-icon add" onclick="addStackTool(0)" title="Th√™m tool">‚ûï</button>
                    </div>
                </div><div class="stack-layer">
                    <div class="layer-title" contenteditable="true" onblur="updateStackLayer(1, 'title', this.textContent)">LAYER 2: Image Generation</div>
                    <div class="tool-grid" id="toolGrid1">
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(1, 0, this.textContent)">Meta AI</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(1, 1, this.textContent)">Nano Banana Pro</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(1, 2, this.textContent)">Flux</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(1, 3, this.textContent)"><br></div>
                        
                        <button class="btn-icon add" onclick="addStackTool(1)" title="Th√™m tool">‚ûï</button>
                    </div>
                </div><div class="stack-layer">
                    <div class="layer-title" contenteditable="true" onblur="updateStackLayer(2, 'title', this.textContent)">LAYER 3: Video Generation</div>
                    <div class="tool-grid" id="toolGrid2">
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(2, 0, this.textContent)">Veo3.1</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(2, 1, this.textContent)">Kling 2.6 Pro</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(2, 2, this.textContent)">KlingO1 Edit</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(2, 3, this.textContent)"><br></div>
                        
                        <button class="btn-icon add" onclick="addStackTool(2)" title="Th√™m tool">‚ûï</button>
                    </div>
                </div><div class="stack-layer">
                    <div class="layer-title" contenteditable="true" onblur="updateStackLayer(3, 'title', this.textContent)">LAYER 4: Post-processing &amp; Workflow</div>
                    <div class="tool-grid" id="toolGrid3">
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(3, 0, this.textContent)">Picsart Flow</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(3, 1, this.textContent)">Weavy</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(3, 2, this.textContent)">ImagineArt</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(3, 3, this.textContent)">Flora</div>
                        
                        <button class="btn-icon add" onclick="addStackTool(3)" title="Th√™m tool">‚ûï</button>
                    </div>
                </div><div class="stack-layer">
                    <div class="layer-title" contenteditable="true" onblur="updateStackLayer(4, 'title', this.textContent)">LAYER 5: Project Management &amp; Delivery</div>
                    <div class="tool-grid" id="toolGrid4">
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(4, 0, this.textContent)">Notion</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(4, 1, this.textContent)">Google Drive</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(4, 2, this.textContent)">Dropbox</div>
                        
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(4, 3, this.textContent)">Google Sheet</div>
                        
                        <button class="btn-icon add" onclick="addStackTool(4)" title="Th√™m tool">‚ûï</button>
                    </div>
                </div></div>
            </div>

            <!-- Tools by Function -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('functionsTableTitle', this.textContent)" id="functionsTableTitle">‚öôÔ∏è C√¥ng c·ª• chi ti·∫øt theo ch·ª©c nƒÉng</span>
                    </div>
                    <button class="btn btn-primary" onclick="addFunctionRow()">‚ûï Th√™m d√≤ng</button>
                </div>
                <div class="table-container">
                    <table id="functionsTable">
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('functions', 0, this.textContent)">Ch·ª©c nƒÉng</th>
                                <th contenteditable="true" onblur="updateTableHeader('functions', 1, this.textContent)">C√¥ng c·ª• ch√≠nh</th>
                                <th contenteditable="true" onblur="updateTableHeader('functions', 2, this.textContent)">C√¥ng c·ª• backup</th>
                                <th contenteditable="true" onblur="updateTableHeader('functions', 3, this.textContent)">∆Øu ƒëi·ªÉm</th>
                                <th contenteditable="true" onblur="updateTableHeader('functions', 4, this.textContent)">Nh∆∞·ª£c ƒëi·ªÉm</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="functionsBody"><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(0, 'func', this.textContent)">Ph√¢n t√≠ch y√™u c·∫ßu</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(0, 'main', this.textContent)">Google Gems/Custom GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(0, 'backup', this.textContent)">ClaudeAI</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(0, 'pros', this.textContent)">Context d√†i</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(0, 'cons', this.textContent)">C·∫ßn g√≥i Plus</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteFunction(0)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(1, 'func', this.textContent)">T·∫°o prompt chu·∫©n</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(1, 'main', this.textContent)">Google Gems/Custom GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(1, 'backup', this.textContent)">ClaudeAI</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(1, 'pros', this.textContent)">T√πy bi·∫øn cao</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(1, 'cons', this.textContent)">C·∫ßn g√≥i Plus</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteFunction(1)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(2, 'func', this.textContent)">·∫¢nh ki·∫øn tr√∫c</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(2, 'main', this.textContent)">Midjourney v7/Nano Banana Pro</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(2, 'backup', this.textContent)">Leonardo AI</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(2, 'pros', this.textContent)">Ch·∫•t l∆∞·ª£ng cao</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(2, 'cons', this.textContent)">C·∫ßn mua tr·∫£ ph√≠</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteFunction(2)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(3, 'func', this.textContent)">·∫¢nh n·ªôi th·∫•t</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(3, 'main', this.textContent)">Nano Banana Pro</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(3, 'backup', this.textContent)">ChatGPT Image</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(3, 'pros', this.textContent)">Consistency</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(3, 'cons', this.textContent)">C·∫ßn mua tr·∫£ ph√≠</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteFunction(3)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(4, 'func', this.textContent)">Hi·ªáu ·ª©ng ch√≠nh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(4, 'main', this.textContent)">Veo3.1, Kling2.6 Pro</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(4, 'backup', this.textContent)">Runway ML</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(4, 'pros', this.textContent)">ƒêa d·∫°ng effects</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(4, 'cons', this.textContent)">Queue time</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteFunction(4)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(5, 'func', this.textContent)">Batch process</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(5, 'main', this.textContent)">Vi·∫øt tool t·ª± ƒë·ªông h√≥a</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(5, 'backup', this.textContent)"></span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(5, 'pros', this.textContent)">Automation</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(5, 'cons', this.textContent)">M·∫•t th·ªùi gian vi·∫øt tools</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteFunction(5)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(6, 'func', this.textContent)">Upscale</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(6, 'main', this.textContent)">Topaz AI</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(6, 'backup', this.textContent)">Real-ESRGAN</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(6, 'pros', this.textContent)">Ch·∫•t l∆∞·ª£ng</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(6, 'cons', this.textContent)">C·∫ßn m√°y c·∫•u h√¨nh cao</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteFunction(6)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Section 3: AI Assistants -->
        <div id="assistants" class="section">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('assistantsTitle', this.textContent)" id="assistantsTitle">ü§ñ Ma tr·∫≠n Gems/CustomGPT theo lo·∫°i hi·ªáu ·ª©ng</span>
                    </div>
                    <button class="btn btn-primary" onclick="addAssistantRow()">‚ûï Th√™m Assistant</button>
                </div>
                <div class="grid-3" id="assistantsGrid"><div class="assistant-card">
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(0, 'name', this.textContent)">HouseBuilder-GPT</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(0, 'purpose', this.textContent)">T·∫°o prompt x√¢y nh√†</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(0, 'effect', this.textContent)">üéØ M·∫∑c ƒë·ªãnh</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(0, 'input', this.textContent)">üì• ·∫¢nh ƒë·∫•t tr·ªëng + style nh√†</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(0, 'output', this.textContent)">üì§ Prompt + ·∫£nh reference</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(0)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="assistant-card">
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(1, 'name', this.textContent)">StagingMaster-GPT</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(1, 'purpose', this.textContent)">Virtual staging</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(1, 'effect', this.textContent)">üéØ Th√™m n·ªôi th·∫•t</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(1, 'input', this.textContent)">üì• ·∫¢nh ph√≤ng tr·ªëng + style</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(1, 'output', this.textContent)">üì§ Prompt staging</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(1)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="assistant-card">
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(2, 'name', this.textContent)">SeasonShift-GPT</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(2, 'purpose', this.textContent)">Chuy·ªÉn m√πa</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(2, 'effect', this.textContent)">üéØ 4 m√πa</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(2, 'input', this.textContent)">üì• ·∫¢nh g·ªëc + m√πa ƒë√≠ch</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(2, 'output', this.textContent)">üì§ Prompt + ·∫£nh m√πa ƒë√≠ch</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(2)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="assistant-card">
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(3, 'name', this.textContent)">DayNight-GPT</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(3, 'purpose', this.textContent)">Day to night</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(3, 'effect', this.textContent)">üéØ D2N</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(3, 'input', this.textContent)">üì• ·∫¢nh ng√†y</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(3, 'output', this.textContent)">üì§ Prompt + ·∫£nh ƒë√™m</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(3)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="assistant-card">
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(4, 'name', this.textContent)">XmasDecor-GPT</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(4, 'purpose', this.textContent)">Christmas effects</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(4, 'effect', this.textContent)">üéØ Trang tr√≠ Noel</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(4, 'input', this.textContent)">üì• ·∫¢nh nh√† + level decor</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(4, 'output', this.textContent)">üì§ Prompt + ·∫£nh decorated</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(4)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="assistant-card">
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(5, 'name', this.textContent)">LifeStyle-GPT</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(5, 'purpose', this.textContent)">Add people</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(5, 'effect', this.textContent)">üéØ Th√™m ng∆∞·ªùi</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(5, 'input', this.textContent)">üì• ·∫¢nh kh√¥ng gian + scenario</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(5, 'output', this.textContent)">üì§ Prompt + ·∫£nh c√≥ ng∆∞·ªùi</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(5)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="assistant-card">
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(6, 'name', this.textContent)">Explosion-GPT</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(6, 'purpose', this.textContent)">Building explosion</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(6, 'effect', this.textContent)">üéØ N·ªï ·∫£nh</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(6, 'input', this.textContent)">üì• ·∫¢nh nh√† + ki·ªÉu n·ªï</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(6, 'output', this.textContent)">üì§ Prompt explosion</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(6)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="assistant-card">
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(7, 'name', this.textContent)">FireEffect-GPT</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(7, 'purpose', this.textContent)">Fire effects</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(7, 'effect', this.textContent)">üéØ Th·∫Øp l·ª≠a</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(7, 'input', this.textContent)">üì• ·∫¢nh l√≤ s∆∞·ªüi/b·∫øp</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(7, 'output', this.textContent)">üì§ Prompt fire</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(7)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="assistant-card">
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(8, 'name', this.textContent)">Construction-GPT</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(8, 'purpose', this.textContent)">Build timelapse</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(8, 'effect', this.textContent)">üéØ D·ª±ng ·∫£nh</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(8, 'input', this.textContent)">üì• ·∫¢nh ƒë·∫•t + ·∫£nh ho√†n thi·ªán</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(8, 'output', this.textContent)">üì§ Prompt construction</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(8)" title="X√≥a">üóëÔ∏è</button>
                </div></div>
            </div>

            <!-- System Prompt Template -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('promptTemplateTitle', this.textContent)" id="promptTemplateTitle">üìù System Prompt Template</span>
                    </div>
                </div>
                <div class="form-group">
                    <label contenteditable="true" onblur="updateConfig('promptTemplateLabel', this.textContent)" id="promptTemplateLabel">Template chu·∫©n (c√≥ th·ªÉ ch·ªânh s·ª≠a):</label>
                    <textarea class="form-control code-block" id="systemPromptTemplate" rows="20"># [T√äN ASSISTANT] - System Prompt

## ROLE
B·∫°n l√† chuy√™n gia t·∫°o prompt cho [LO·∫†I HI·ªÜU ·ª®NG] trong lƒ©nh v·ª±c real estate video production.

## KNOWLEDGE BASE
- C√¥ng c·ª• ch√≠nh: [Higgsfield/Envato/Runway...]
- Hi·ªáu ·ª©ng: [General/Explosion/Timelapse...]
- Camera motions: [Fixed/Dolly-in/Pan...]

## INPUT REQUIREMENTS
1. ·∫¢nh g·ªëc (Image 1): [M√¥ t·∫£]
2. ·∫¢nh ƒë√≠ch (Image 2): [M√¥ t·∫£] 
3. Y√™u c·∫ßu ƒë·∫∑c bi·ªát: [C√°c option]

## OUTPUT FORMAT
### PROMPT T·∫†O ·∫¢NH (Gemini/Midjourney)
[Prompt ti·∫øng Vi·ªát]

### PROMPT T·∫†O VIDEO (Higgsfield/Envato)
[Prompt ti·∫øng Anh - chu·∫©n h√≥a]

### CAMERA MOTION
[Lo·∫°i chuy·ªÉn ƒë·ªông]

### CHECKLIST QUALITY
- [ ] Item 1
- [ ] Item 2

## RULES
1. Lu√¥n gi·ªØ nguy√™n c·∫•u tr√∫c ·∫£nh g·ªëc
2. Kh√¥ng th√™m chi ti·∫øt h∆∞ c·∫•u
3. Camera motion ph·∫£i r√µ r√†ng
4. Bao g·ªìm negative prompts</textarea>
                </div>
                <button class="btn btn-success" onclick="copyTemplate()">üìã Copy Template</button>
            </div>
        </div>

        <!-- Section 4: Workflow -->
        <div id="workflow" class="section">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('workflowTitle', this.textContent)" id="workflowTitle">üîÑ AI Video Production Workflow</span>
                    </div>
                </div>
                <div class="workflow-container">
                    <div class="workflow-diagram" id="workflowDiagram"><div class="workflow-step">
                    <div class="step-icon">üì•</div>
                    <div class="step-title" contenteditable="true" onblur="updateWorkflowStep(0, 'title', this.textContent)">NH·∫¨N JOB</div>
                    <div class="step-desc" contenteditable="true" onblur="updateWorkflowStep(0, 'desc', this.textContent)">Check Input</div>
                </div><div class="workflow-arrow">‚Üí</div><div class="workflow-step">
                    <div class="step-icon">üéØ</div>
                    <div class="step-title" contenteditable="true" onblur="updateWorkflowStep(1, 'title', this.textContent)">PH√ÇN LO·∫†I</div>
                    <div class="step-desc" contenteditable="true" onblur="updateWorkflowStep(1, 'desc', this.textContent)">Ch·ªçn Template</div>
                </div><div class="workflow-arrow">‚Üí</div><div class="workflow-step">
                    <div class="step-icon">üñºÔ∏è</div>
                    <div class="step-title" contenteditable="true" onblur="updateWorkflowStep(2, 'title', this.textContent)">T·∫†O ·∫¢NH</div>
                    <div class="step-desc" contenteditable="true" onblur="updateWorkflowStep(2, 'desc', this.textContent)">QC ·∫£nh</div>
                </div><div class="workflow-arrow">‚Üí</div><div class="workflow-step">
                    <div class="step-icon">üé¨</div>
                    <div class="step-title" contenteditable="true" onblur="updateWorkflowStep(3, 'title', this.textContent)">T·∫†O VIDEO</div>
                    <div class="step-desc" contenteditable="true" onblur="updateWorkflowStep(3, 'desc', this.textContent)">QC Video</div>
                </div><div class="workflow-arrow">‚Üí</div><div class="workflow-step">
                    <div class="step-icon">‚ú®</div>
                    <div class="step-title" contenteditable="true" onblur="updateWorkflowStep(4, 'title', this.textContent)">CH·ªàNH S·ª¨A</div>
                    <div class="step-desc" contenteditable="true" onblur="updateWorkflowStep(4, 'desc', this.textContent)">Xu·∫•t&nbsp;</div>
                </div><div class="workflow-arrow">‚Üí</div><div class="workflow-step">
                    <div class="step-icon">‚úÖ</div>
                    <div class="step-title" contenteditable="true" onblur="updateWorkflowStep(5, 'title', this.textContent)">DELIVERY</div>
                    <div class="step-desc" contenteditable="true" onblur="updateWorkflowStep(5, 'desc', this.textContent)">Feedback</div>
                </div></div>
                </div>
            </div>

            <!-- Image & Video Generation Workflows -->
            <div class="grid-2">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <span contenteditable="true" onblur="updateConfig('imageWorkflowTitle', this.textContent)" id="imageWorkflowTitle">üñºÔ∏è Image Generation Workflow</span>
                        </div>
                    </div>
                    <div class="workflow-container" style="background: linear-gradient(135deg, #059669, #10b981);">
                        <div style="text-align: center; padding: 20px;">
                            <div style="margin-bottom: 20px;">
                                <div class="workflow-step" style="display: inline-block;">
                                    <div class="step-icon">üì•</div>
                                    <div class="step-title" contenteditable="true" onblur="updateWorkflowDetail('imageStep1', this.textContent)">Input</div>
                                </div>
                            </div>
                            <div style="font-size: 2em; margin: 10px 0;">‚¨áÔ∏è</div>
                            <div style="margin-bottom: 20px;">
                                <div class="workflow-step" style="display: inline-block;">
                                    <div class="step-icon">ü§ñ</div>
                                    <div class="step-title" contenteditable="true" onblur="updateWorkflowDetail('imageStep2', this.textContent)">Ch·ªçn Gem/GPT</div>
                                </div>
                            </div>
                            <div style="font-size: 2em; margin: 10px 0;">‚¨áÔ∏è</div>
                            <div style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
                                <div class="workflow-step" contenteditable="true" onblur="updateWorkflowDetail('imageTool1', this.textContent)">Nano Banana Pro</div>
                                <div class="workflow-step" contenteditable="true" onblur="updateWorkflowDetail('imageTool2', this.textContent)">Flux Pro</div>
                                <div class="workflow-step" contenteditable="true" onblur="updateWorkflowDetail('imageTool3', this.textContent)">MetaAI</div>
                            </div>
                            <div style="font-size: 2em; margin: 10px 0;">‚¨áÔ∏è</div>
                            <div class="workflow-step" style="display: inline-block;">
                                <div class="step-icon">‚úÖ</div>
                                <div class="step-title" contenteditable="true" onblur="updateWorkflowDetail('imageStep3', this.textContent)">QC ·∫£nh</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <span contenteditable="true" onblur="updateConfig('videoWorkflowTitle', this.textContent)" id="videoWorkflowTitle">üé¨ Video Generation Workflow</span>
                        </div>
                    </div>
                    <div class="workflow-container" style="background: linear-gradient(135deg, #d97706, #f59e0b);">
                        <div style="text-align: center; padding: 20px;">
                            <div style="margin-bottom: 20px;">
                                <div class="workflow-step" style="display: inline-block;">
                                    <div class="step-icon">üñºÔ∏è</div>
                                    <div class="step-title" contenteditable="true" onblur="updateWorkflowDetail('videoStep1', this.textContent)">·∫¢nh 1 + ·∫¢nh 2</div>
                                </div>
                            </div>
                            <div style="font-size: 2em; margin: 10px 0;">‚¨áÔ∏è</div>
                            <div style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
                                <div class="workflow-step" contenteditable="true" onblur="updateWorkflowDetail('videoTool1', this.textContent)">Runway Gen4.5</div>
                                <div class="workflow-step" contenteditable="true" onblur="updateWorkflowDetail('videoTool2', this.textContent)">KlingO1 Edit</div>
                                <div class="workflow-step" contenteditable="true" onblur="updateWorkflowDetail('videoTool3', this.textContent)">Kling 2.6 Pro</div>
                                <div class="workflow-step" contenteditable="true" onblur="updateWorkflowDetail('videoTool4', this.textContent)">Google Veo</div>
                            </div>
                            <div style="font-size: 2em; margin: 10px 0;">‚¨áÔ∏è</div>
                            <div class="workflow-step" style="display: inline-block;">
                                <div class="step-icon">‚¨áÔ∏è</div>
                                <div class="step-title" contenteditable="true" onblur="updateWorkflowDetail('videoStep2', this.textContent)">Download &amp; Preview</div>
                            </div>
                            <div style="font-size: 2em; margin: 10px 0;">‚¨áÔ∏è</div>
                            <div class="workflow-step" style="display: inline-block;">
                                <div class="step-icon">‚úÖ</div>
                                <div class="step-title" contenteditable="true" onblur="updateWorkflowDetail('videoStep3', this.textContent)">QC Video</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 5: SOP -->
        <div id="sop" class="section">
            <!-- Step 1 -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('step1Title', this.textContent)" id="step1Title">üìã B∆Ø·ªöC 1: NH·∫¨N JOB &amp; CHECK INPUT</span>
                    </div>
                </div>
                <div class="table-container">
                    <table id="step1Table">
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('step1', 0, this.textContent)">Task</th>
                                <th contenteditable="true" onblur="updateTableHeader('step1', 1, this.textContent)">Ng∆∞·ªùi th·ª±c hi·ªán</th>
                                <th contenteditable="true" onblur="updateTableHeader('step1', 2, this.textContent)">C√¥ng c·ª•</th>
                                <th contenteditable="true" onblur="updateTableHeader('step1', 3, this.textContent)">Th·ªùi gian</th>
                                <th contenteditable="true" onblur="updateTableHeader('step1', 4, this.textContent)">Output</th>
                            </tr>
                        </thead>
                        <tbody id="step1Body"><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(0, 'task', this.textContent)">1.1 Nh·∫≠n brief</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(0, 'person', this.textContent)">Coordinator</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(0, 'tool', this.textContent)">Chat</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(0, 'time', this.textContent)">- ph√∫t</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(0, 'output', this.textContent)">Job ticket</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(1, 'task', this.textContent)">1.2 Check file input</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(1, 'person', this.textContent)">Coordinator</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(1, 'tool', this.textContent)">Dropbox</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(1, 'time', this.textContent)">- ph√∫t</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(1, 'output', this.textContent)">Input validated</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(2, 'task', this.textContent)">1.3 X√°c ƒë·ªãnh lo·∫°i effect</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(2, 'person', this.textContent)">Coordinator</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(2, 'tool', this.textContent)">Decision tree</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(2, 'time', this.textContent)">- ph√∫t</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(2, 'output', this.textContent)">Effect type</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(3, 'task', this.textContent)">1.4 ∆Ø·ªõc t√≠nh deadline</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(3, 'person', this.textContent)">Coordinator</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(3, 'tool', this.textContent)">Time matrix</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(3, 'time', this.textContent)">- ph√∫t</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(3, 'output', this.textContent)">Timeline</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(4, 'task', this.textContent)">1.5 Assign cho AI Artist</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(4, 'person', this.textContent)">Coordinator</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(4, 'tool', this.textContent)">Monday.com</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(4, 'time', this.textContent)">- ph√∫t</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(4, 'output', this.textContent)">Assignment</span></td>
                </tr></tbody>
                    </table>
                </div>
                <div style="margin-top: 20px;">
                    <h4 style="margin-bottom: 15px;">
                        <span contenteditable="true" onblur="updateConfig('inputChecklistTitle', this.textContent)" id="inputChecklistTitle">‚úÖ Checklist Input:</span>
                    </h4>
                    <div class="checklist" id="inputChecklist"><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('inputChecklist', 0, this.textContent)">Link Dropbox/Drive ho·∫°t ƒë·ªông</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('inputChecklist', 0)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('inputChecklist', 1, this.textContent)">·∫¢nh/Video g·ªëc ƒë·ªß ch·∫•t l∆∞·ª£ng (min 1080p)</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('inputChecklist', 1)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('inputChecklist', 2, this.textContent)">Y√™u c·∫ßu r√µ r√†ng b·∫±ng text</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('inputChecklist', 2)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('inputChecklist', 3, this.textContent)">Sample/Reference n·∫øu c√≥</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('inputChecklist', 3)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('inputChecklist', 4, this.textContent)">Deadline x√°c nh·∫≠n</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('inputChecklist', 4)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('inputChecklist', 5, this.textContent)">Th√¥ng tin kh√°ch h√†ng</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('inputChecklist', 5)" title="X√≥a">üóëÔ∏è</button>
                </div><button class="btn btn-primary" style="margin-top: 10px;">‚ûï Th√™m m·ª•c</button></div>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('step2Title', this.textContent)" id="step2Title">üéØ B∆Ø·ªöC 2: PH√ÇN LO·∫†I &amp; CH·ªåN TEMPLATE</span>
                    </div>
                    <button class="btn btn-primary" onclick="addTemplateRow()">‚ûï Th√™m d√≤ng</button>
                </div>
                <div class="table-container">
                    <table id="templateTable">
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('template', 0, this.textContent)">Lo·∫°i Effect</th>
                                <th contenteditable="true" onblur="updateTableHeader('template', 1, this.textContent)">Template ID</th>
                                <th contenteditable="true" onblur="updateTableHeader('template', 2, this.textContent)">Gem/GPT s·ª≠ d·ª•ng</th>
                                <th contenteditable="true" onblur="updateTableHeader('template', 3, this.textContent)">Tool ch√≠nh</th>
                                <th contenteditable="true" onblur="updateTableHeader('template', 4, this.textContent)">Est. Time</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="templateBody"><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(0, 'effect', this.textContent)">M·∫∑c ƒë·ªãnh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(0, 'id', this.textContent)">TEMP-001</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(0, 'gpt', this.textContent)">HouseBuilder-GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(0, 'tool', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(0, 'time', this.textContent)">- ph√∫t</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(0)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(1, 'effect', this.textContent)">Th√™m n·ªôi th·∫•t</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(1, 'id', this.textContent)">TEMP-002</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(1, 'gpt', this.textContent)">StagingMaster-GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(1, 'tool', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(1, 'time', this.textContent)">- ph√∫t</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(1)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(2, 'effect', this.textContent)">4 m√πa</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(2, 'id', this.textContent)">TEMP-003</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(2, 'gpt', this.textContent)">SeasonShift-GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(2, 'tool', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(2, 'time', this.textContent)">- ph√∫t</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(2)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(3, 'effect', this.textContent)">D2N</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(3, 'id', this.textContent)">TEMP-004</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(3, 'gpt', this.textContent)">DayNight-GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(3, 'tool', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(3, 'time', this.textContent)">- ph√∫t</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(3)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(4, 'effect', this.textContent)">Trang tr√≠ Noel</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(4, 'id', this.textContent)">TEMP-005</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(4, 'gpt', this.textContent)">XmasDecor-GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(4, 'tool', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(4, 'time', this.textContent)">- ph√∫t</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(4)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(5, 'effect', this.textContent)">Th√™m ng∆∞·ªùi</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(5, 'id', this.textContent)">TEMP-006</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(5, 'gpt', this.textContent)">LifeStyle-GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(5, 'tool', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(5, 'time', this.textContent)">- ph√∫t</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(5)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(6, 'effect', this.textContent)">N·ªï ·∫£nh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(6, 'id', this.textContent)">TEMP-007</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(6, 'gpt', this.textContent)">Explosion-GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(6, 'tool', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(6, 'time', this.textContent)">- ph√∫t</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(6)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(7, 'effect', this.textContent)">Th·∫Øp l·ª≠a</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(7, 'id', this.textContent)">TEMP-008</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(7, 'gpt', this.textContent)">FireEffect-GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(7, 'tool', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(7, 'time', this.textContent)">- ph√∫t</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(7)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(8, 'effect', this.textContent)">D·ª±ng ·∫£nh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(8, 'id', this.textContent)">TEMP-009</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(8, 'gpt', this.textContent)">Construction-GPT</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(8, 'tool', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(8, 'time', this.textContent)">- ph√∫t</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(8)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr></tbody>
                    </table>
                </div>
            </div>

            <!-- QC Checklists -->
            <div class="grid-2">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <span contenteditable="true" onblur="updateConfig('imageQCTitle', this.textContent)" id="imageQCTitle">‚úÖ QC Checklist ·∫¢nh</span>
                        </div>
                    </div>
                    <div class="checklist" id="imageQCChecklist"><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('imageQCChecklist', 0, this.textContent)">Gi·ªØ nguy√™n t·ª∑ l·ªá g·ªëc (9:16, 16:9, etc.)</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('imageQCChecklist', 0)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('imageQCChecklist', 1, this.textContent)">Kh√¥ng thay ƒë·ªïi c·∫•u tr√∫c ch√≠nh</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('imageQCChecklist', 1)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('imageQCChecklist', 2, this.textContent)">Ch·∫•t l∆∞·ª£ng ƒë·ªß ƒë·ªÉ render video</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('imageQCChecklist', 2)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('imageQCChecklist', 3, this.textContent)">M√†u s·∫Øc ph√π h·ª£p v·ªõi ·∫£nh g·ªëc</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('imageQCChecklist', 3)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('imageQCChecklist', 4, this.textContent)">Kh√¥ng c√≥ artifacts/watermark</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('imageQCChecklist', 4)" title="X√≥a">üóëÔ∏è</button>
                </div><button class="btn btn-primary" style="margin-top: 10px;">‚ûï Th√™m m·ª•c</button></div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <span contenteditable="true" onblur="updateConfig('videoQCTitle', this.textContent)" id="videoQCTitle">‚úÖ QC Checklist Video</span>
                        </div>
                    </div>
                    <div class="checklist" id="videoQCChecklist"><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('videoQCChecklist', 0, this.textContent)">Chuy·ªÉn ƒë·ªông m∆∞·ª£t m√†, kh√¥ng gi·∫≠t</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('videoQCChecklist', 0)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('videoQCChecklist', 1, this.textContent)">Kh√¥ng flicker/flash</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('videoQCChecklist', 1)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('videoQCChecklist', 2, this.textContent)">Kh√¥ng blur/m·ªù</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('videoQCChecklist', 2)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('videoQCChecklist', 3, this.textContent)">M·∫∑t ng∆∞·ªùi kh√¥ng b·ªã bi·∫øn d·∫°ng (n·∫øu c√≥)</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('videoQCChecklist', 3)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('videoQCChecklist', 4, this.textContent)">Camera motion ƒë√∫ng y√™u c·∫ßu</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('videoQCChecklist', 4)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('videoQCChecklist', 5, this.textContent)">Duration ƒë·ªß (th∆∞·ªùng 5-10s)</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('videoQCChecklist', 5)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('videoQCChecklist', 6, this.textContent)">Kh√¥ng c√≥ logo/watermark AI</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('videoQCChecklist', 6)" title="X√≥a">üóëÔ∏è</button>
                </div><div class="checklist-item">
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('videoQCChecklist', 7, this.textContent)">Lighting consistent</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('videoQCChecklist', 7)" title="X√≥a">üóëÔ∏è</button>
                </div><button class="btn btn-primary" style="margin-top: 10px;">‚ûï Th√™m m·ª•c</button></div>
                </div>
            </div>

            <!-- Export Settings -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('step5Title', this.textContent)" id="step5Title">üé® B∆Ø·ªöC 5: CH·ªàNH S·ª¨A &amp; XU·∫§T FILE</span>
                    </div>
                </div>
                <div class="table-container">
                    <table id="exportTable">
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('export', 0, this.textContent)">Task</th>
                                <th contenteditable="true" onblur="updateTableHeader('export', 1, this.textContent)">Tool</th>
                                <th contenteditable="true" onblur="updateTableHeader('export', 2, this.textContent)">Settings</th>
                                <th contenteditable="true" onblur="updateTableHeader('export', 3, this.textContent)">Output</th>
                            </tr>
                        </thead>
                        <tbody id="exportBody"><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(0, 'task', this.textContent)">Upscale 4K</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(0, 'tool', this.textContent)">Topaz Video AI</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(0, 'settings', this.textContent)">4K, denoise medium</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(0, 'output', this.textContent)">.mp4 4K</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(1, 'task', this.textContent)">Color correction</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(1, 'tool', this.textContent)">DaVinci/Premiere</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(1, 'settings', this.textContent)">Match original</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(1, 'output', this.textContent)">Corrected</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(2, 'task', this.textContent)">Motion Effect</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(2, 'tool', this.textContent)">Photoshop/After Effects</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(2, 'settings', this.textContent)"></span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(2, 'output', this.textContent)">Smooth</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(3, 'task', this.textContent)"></span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(3, 'tool', this.textContent)"></span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(3, 'settings', this.textContent)"></span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(3, 'output', this.textContent)"></span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(4, 'task', this.textContent)"></span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(4, 'tool', this.textContent)"></span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(4, 'settings', this.textContent)"></span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(4, 'output', this.textContent)"></span></td>
                </tr></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Section 6: KPI -->
        <div id="kpi" class="section">
            <!-- KPI Cards -->
            <div class="grid-4" style="margin-bottom: 25px;">
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-title" contenteditable="true" onblur="updateKPICard(0, 'title', this.textContent)">Jobs/Day/Person</span>
                        <span class="kpi-change positive" contenteditable="true" onblur="updateKPICard(0, 'change', this.textContent)">Target</span>
                    </div>
                    <div class="kpi-value" contenteditable="true" onblur="updateKPICard(0, 'value', this.textContent)">-</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-title" contenteditable="true" onblur="updateKPICard(1, 'title', this.textContent)">Avg. Turnaround</span>
                        <span class="kpi-change positive" contenteditable="true" onblur="updateKPICard(1, 'change', this.textContent)">Target</span>
                    </div>
                    <div class="kpi-value" contenteditable="true" onblur="updateKPICard(1, 'value', this.textContent)">-</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-title" contenteditable="true" onblur="updateKPICard(2, 'title', this.textContent)">First-pass Rate</span>
                        <span class="kpi-change positive" contenteditable="true" onblur="updateKPICard(2, 'change', this.textContent)">Target</span>
                    </div>
                    <div class="kpi-value" contenteditable="true" onblur="updateKPICard(2, 'value', this.textContent)">-</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-title" contenteditable="true" onblur="updateKPICard(3, 'title', this.textContent)">Client Satisfaction</span>
                        <span class="kpi-change positive" contenteditable="true" onblur="updateKPICard(3, 'change', this.textContent)">Target</span>
                    </div>
                    <div class="kpi-value" contenteditable="true" onblur="updateKPICard(3, 'value', this.textContent)">-</div>
                </div>
            </div>

            <!-- KPI Table -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('kpiTableTitle', this.textContent)" id="kpiTableTitle">üìä KPI Dashboard</span>
                    </div>
                    <button class="btn btn-primary" onclick="addKPIRow()">‚ûï Th√™m KPI</button>
                </div>
                <div class="table-container">
                    <table id="kpiTable">
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('kpi', 0, this.textContent)">Metric</th>
                                <th contenteditable="true" onblur="updateTableHeader('kpi', 1, this.textContent)">M√¥ t·∫£</th>
                                <th contenteditable="true" onblur="updateTableHeader('kpi', 2, this.textContent)">Target</th>
                                <th contenteditable="true" onblur="updateTableHeader('kpi', 3, this.textContent)">C√°ch ƒëo</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="kpiBody"><tr><td colspan="5" style="background: var(--light); font-weight: 700; color: var(--primary);">Productivity</td></tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(0, 'metric', this.textContent)">Jobs/Day/Person</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(0, 'desc', this.textContent)">S·ªë job ho√†n th√†nh/ng√†y/ng∆∞·ªùi</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(0, 'target', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(0, 'measure', this.textContent)">Monday.com</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(0)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(1, 'metric', this.textContent)">Avg. Turnaround</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(1, 'desc', this.textContent)">Th·ªùi gian trung b√¨nh ho√†n th√†nh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(1, 'target', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(1, 'measure', this.textContent)">Timestamp</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(1)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(2, 'metric', this.textContent)">First-pass Rate</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(2, 'desc', this.textContent)">T·ª∑ l·ªá approved l·∫ßn ƒë·∫ßu</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(2, 'target', this.textContent)">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(2, 'measure', this.textContent)">Revision count</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(2)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr><td colspan="5" style="background: var(--light); font-weight: 700; color: var(--primary);">Quality</td></tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(3, 'metric', this.textContent)">Client Satisfaction</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(3, 'desc', this.textContent)">ƒêi·ªÉm h√†i l√≤ng kh√°ch</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(3, 'target', this.textContent)">&gt; 4.5/5</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(3, 'measure', this.textContent)">Feedback form</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(3)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(4, 'metric', this.textContent)">Revision Rate</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(4, 'desc', this.textContent)">T·ª∑ l·ªá ph·∫£i s·ª≠a</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(4, 'target', this.textContent)">&lt; 30%</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(4, 'measure', this.textContent)">Revision count</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(4)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(5, 'metric', this.textContent)">Technical Errors</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(5, 'desc', this.textContent)">L·ªói k·ªπ thu·∫≠t (flicker, blur)</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(5, 'target', this.textContent)">&lt; 5%</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(5, 'measure', this.textContent)">QC log</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(5)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr><td colspan="5" style="background: var(--light); font-weight: 700; color: var(--primary);">Efficiency</td></tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(6, 'metric', this.textContent)">Tool Utilization</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(6, 'desc', this.textContent)">T·ª∑ l·ªá s·ª≠ d·ª•ng ƒë√∫ng tool</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(6, 'target', this.textContent)">&gt; 90%</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(6, 'measure', this.textContent)">Audit</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(6)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(7, 'metric', this.textContent)">Template Compliance</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(7, 'desc', this.textContent)">Tu√¢n th·ªß template</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(7, 'target', this.textContent)">&gt; 95%</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(7, 'measure', this.textContent)">Audit</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(7)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(8, 'metric', this.textContent)">Automation Rate</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(8, 'desc', this.textContent)">% task t·ª± ƒë·ªông h√≥a</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(8, 'target', this.textContent)">&gt; 40%</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(8, 'measure', this.textContent)">Process audit</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(8)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr></tbody>
                    </table>
                </div>
            </div>

            <!-- Scorecard -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('scorecardTitle', this.textContent)" id="scorecardTitle">‚≠ê Job Quality Scorecard</span>
                    </div>
                </div>
                <div class="scorecard">
                    <div class="grid-2">
                        <div>
                            <div class="form-group">
                                <label contenteditable="true" onblur="updateConfig('jobCodeLabel', this.textContent)" id="jobCodeLabel">Job Code:</label>
                                <input type="text" class="form-control" id="jobCode" placeholder="VD: JOB-2024-001">
                            </div>
                        </div>
                        <div>
                            <div class="form-group">
                                <label contenteditable="true" onblur="updateConfig('jobDateLabel', this.textContent)" id="jobDateLabel">Date:</label>
                                <input type="date" class="form-control" id="jobDate">
                            </div>
                        </div>
                    </div>
                    <div class="grid-2">
                        <div>
                            <div class="form-group">
                                <label contenteditable="true" onblur="updateConfig('artistNameLabel', this.textContent)" id="artistNameLabel">Artist:</label>
                                <input type="text" class="form-control" id="artistName" placeholder="T√™n artist">
                            </div>
                        </div>
                        <div>
                            <div class="form-group">
                                <label contenteditable="true" onblur="updateConfig('effectTypeLabel', this.textContent)" id="effectTypeLabel">Effect Type:</label>
                                <select class="form-control" id="effectType">
                                    <option>M·∫∑c ƒë·ªãnh</option>
                                    <option>Th√™m n·ªôi th·∫•t</option>
                                    <option>4 m√πa</option>
                                    <option>D2N</option>
                                    <option>Trang tr√≠ Noel</option>
                                    <option>Th√™m ng∆∞·ªùi</option>
                                    <option>N·ªï ·∫£nh</option>
                                    <option>Th·∫Øp l·ª≠a</option>
                                    <option>D·ª±ng ·∫£nh</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="score-section">
                        <div class="score-section-title" contenteditable="true" onblur="updateConfig('techQualityTitle', this.textContent)" id="techQualityTitle">TECHNICAL QUALITY (40 points)</div>
                        <div class="score-item">
                            <label><input type="checkbox" onchange="calculateScore()"> <span contenteditable="true" onblur="updateScoreItem(0, this.textContent)">No flicker/flash</span></label>
                            <input type="number" value="10" max="10" min="0" class="score-input" data-max="10">
                        </div>
                        <div class="score-item">
                            <label><input type="checkbox" onchange="calculateScore()"> <span contenteditable="true" onblur="updateScoreItem(1, this.textContent)">Smooth motion</span></label>
                            <input type="number" value="10" max="10" min="0" class="score-input" data-max="10">
                        </div>
                        <div class="score-item">
                            <label><input type="checkbox" onchange="calculateScore()"> <span contenteditable="true" onblur="updateScoreItem(2, this.textContent)">Correct camera motion</span></label>
                            <input type="number" value="10" max="10" min="0" class="score-input" data-max="10">
                        </div>
                        <div class="score-item">
                            <label><input type="checkbox" onchange="calculateScore()"> <span contenteditable="true" onblur="updateScoreItem(3, this.textContent)">4K quality output</span></label>
                            <input type="number" value="10" max="10" min="0" class="score-input" data-max="10">
                        </div>
                    </div>

                    <div class="score-section">
                        <div class="score-section-title" contenteditable="true" onblur="updateConfig('creativeQualityTitle', this.textContent)" id="creativeQualityTitle">CREATIVE QUALITY (30 points)</div>
                        <div class="score-item">
                            <label><input type="checkbox" onchange="calculateScore()"> <span contenteditable="true" onblur="updateScoreItem(4, this.textContent)">Match client expectation</span></label>
                            <input type="number" value="15" max="15" min="0" class="score-input" data-max="15">
                        </div>
                        <div class="score-item">
                            <label><input type="checkbox" onchange="calculateScore()"> <span contenteditable="true" onblur="updateScoreItem(5, this.textContent)">Aesthetic appeal</span></label>
                            <input type="number" value="15" max="15" min="0" class="score-input" data-max="15">
                        </div>
                    </div>

                    <div class="score-section">
                        <div class="score-section-title" contenteditable="true" onblur="updateConfig('processComplianceTitle', this.textContent)" id="processComplianceTitle">PROCESS COMPLIANCE (30 points)</div>
                        <div class="score-item">
                            <label><input type="checkbox" onchange="calculateScore()"> <span contenteditable="true" onblur="updateScoreItem(6, this.textContent)">Used correct template</span></label>
                            <input type="number" value="10" max="10" min="0" class="score-input" data-max="10">
                        </div>
                        <div class="score-item">
                            <label><input type="checkbox" onchange="calculateScore()"> <span contenteditable="true" onblur="updateScoreItem(7, this.textContent)">Documented prompt</span></label>
                            <input type="number" value="10" max="10" min="0" class="score-input" data-max="10">
                        </div>
                        <div class="score-item">
                            <label><input type="checkbox" onchange="calculateScore()"> <span contenteditable="true" onblur="updateScoreItem(8, this.textContent)">Met deadline</span></label>
                            <input type="number" value="10" max="10" min="0" class="score-input" data-max="10">
                        </div>
                    </div>

                    <div class="total-score">
                        <span contenteditable="true" onblur="updateConfig('totalScoreLabel', this.textContent)" id="totalScoreLabel">TOTAL SCORE:</span> <span id="totalScore">0</span>/100
                        <div style="font-size: 0.5em; margin-top: 10px;">
                            <span contenteditable="true" onblur="updateConfig('gradeLabel', this.textContent)" id="gradeLabel">Grade:</span> <span id="grade">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Daily Report Template -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('dailyReportTitle', this.textContent)" id="dailyReportTitle">üìÖ Daily AI Production Report</span>
                    </div>
                </div>
                <div class="report-container">
                    <div class="report-header" contenteditable="true" onblur="updateConfig('reportHeaderTitle', this.textContent)" id="reportHeaderTitle">
                        DAILY AI PRODUCTION REPORT
                        <br>
                        <input type="date" style="background: transparent; border: 1px solid white; color: white; padding: 5px 10px; border-radius: 5px; margin-top: 10px;">
                    </div>
                    <div class="report-body">
                        <h4 style="margin-bottom: 15px; color: var(--primary);" contenteditable="true" onblur="updateConfig('reportSummaryTitle', this.textContent)" id="reportSummaryTitle">SUMMARY</h4>
                        <div class="report-row">
                            <span class="report-label" contenteditable="true" onblur="updateReportLabel(0, this.textContent)">Total Jobs Completed:</span>
                            <input type="number" class="form-control" style="width: 100px;" value="0">
                        </div>
                        <div class="report-row">
                            <span class="report-label" contenteditable="true" onblur="updateReportLabel(1, this.textContent)">Total Jobs In Progress:</span>
                            <input type="number" class="form-control" style="width: 100px;" value="0">
                        </div>
                        <div class="report-row">
                            <span class="report-label" contenteditable="true" onblur="updateReportLabel(2, this.textContent)">Total Jobs Pending:</span>
                            <input type="number" class="form-control" style="width: 100px;" value="0">
                        </div>
                        <div class="report-row">
                            <span class="report-label" contenteditable="true" onblur="updateReportLabel(3, this.textContent)">Revision Jobs:</span>
                            <input type="number" class="form-control" style="width: 100px;" value="0">
                        </div>

                        <h4 style="margin: 20px 0 15px; color: var(--primary);" contenteditable="true" onblur="updateConfig('reportEffectTypeTitle', this.textContent)" id="reportEffectTypeTitle">BY EFFECT TYPE</h4>
                        <table style="width: 100%;">
                            <tbody><tr>
                                <th contenteditable="true" onblur="updateReportTableHeader(0, this.textContent)">Effect</th>
                                <th contenteditable="true" onblur="updateReportTableHeader(1, this.textContent)">Complete</th>
                                <th contenteditable="true" onblur="updateReportTableHeader(2, this.textContent)">Revision</th>
                                <th contenteditable="true" onblur="updateReportTableHeader(3, this.textContent)">Pending</th>
                            </tr>
                            <tr>
                                <td contenteditable="true" onblur="updateReportEffectName(0, this.textContent)">M·∫∑c ƒë·ªãnh</td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" onblur="updateReportEffectName(1, this.textContent)">N·ªôi th·∫•t</td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" onblur="updateReportEffectName(2, this.textContent)">4 m√πa</td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" onblur="updateReportEffectName(3, this.textContent)">D2N</td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" onblur="updateReportEffectName(4, this.textContent)">Noel</td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" onblur="updateReportEffectName(5, this.textContent)">Th√™m ng∆∞·ªùi</td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" onblur="updateReportEffectName(6, this.textContent)">N·ªï</td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" onblur="updateReportEffectName(7, this.textContent)">Th·∫Øp l·ª≠a</td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" onblur="updateReportEffectName(8, this.textContent)">D·ª±ng ·∫£nh</td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                                <td><input type="number" style="width: 60px;" value="0"></td>
                            </tr>
                        </tbody></table>

                        <h4 style="margin: 20px 0 15px; color: var(--primary);" contenteditable="true" onblur="updateConfig('reportIssuesTitle', this.textContent)" id="reportIssuesTitle">ISSUES &amp; BLOCKERS</h4>
                        <textarea class="form-control" rows="3" placeholder="Ghi ch√∫ c√°c v·∫•n ƒë·ªÅ g·∫∑p ph·∫£i..."></textarea>

                        <h4 style="margin: 20px 0 15px; color: var(--primary);" contenteditable="true" onblur="updateConfig('reportNotesTitle', this.textContent)" id="reportNotesTitle">NOTES FOR TOMORROW</h4>
                        <textarea class="form-control" rows="3" placeholder="Ghi ch√∫ cho ng√†y mai..."></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 7: Prompts -->
        <div id="prompts" class="section">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('promptLibraryTitle', this.textContent)" id="promptLibraryTitle">üìö Prompt Library chu·∫©n h√≥a</span>
                    </div>
                </div>
                <div class="nav-tabs" style="margin-bottom: 0; box-shadow: none;" id="promptTabs"><button class="nav-tab"><span contenteditable="true" onblur="updatePromptTabName(0, this.textContent)" onclick="event.stopPropagation()">üè† M·∫∑c ƒë·ªãnh</span></button><button class="nav-tab"><span contenteditable="true" onblur="updatePromptTabName(1, this.textContent)" onclick="event.stopPropagation()">üõãÔ∏è N·ªôi th·∫•t</span></button><button class="nav-tab"><span contenteditable="true" onblur="updatePromptTabName(2, this.textContent)" onclick="event.stopPropagation()">üçÇ 4 m√πa</span></button><button class="nav-tab"><span contenteditable="true" onblur="updatePromptTabName(3, this.textContent)" onclick="event.stopPropagation()">üåô D2N</span></button><button class="nav-tab"><span contenteditable="true" onblur="updatePromptTabName(4, this.textContent)" onclick="event.stopPropagation()">üë• Th√™m ng∆∞·ªùi</span></button><button class="nav-tab"><span contenteditable="true" onblur="updatePromptTabName(5, this.textContent)" onclick="event.stopPropagation()">üí• N·ªï ·∫£nh</span></button><button class="nav-tab"><span contenteditable="true" onblur="updatePromptTabName(6, this.textContent)" onclick="event.stopPropagation()">üî• Th·∫Øp l·ª≠a</span></button><button class="nav-tab"><span contenteditable="true" onblur="updatePromptTabName(7, this.textContent)" onclick="event.stopPropagation()">üèóÔ∏è D·ª±ng ·∫£nh</span></button></div>
            </div>

            <div class="card" id="promptTemplateCard">
                <div class="card-header">
                    <div class="card-title" id="promptTitle">üí• Template: N·ªï ·∫£nh (Building Explosion)</div>
                    <button class="btn btn-success" onclick="copyCurrentPrompt()">üìã Copy Prompt</button>
                </div>
                
                <div class="form-group">
                    <label contenteditable="true" onblur="updateConfig('imagePromptLabel', this.textContent)" id="imagePromptLabel">üñºÔ∏è PROMPT T·∫†O ·∫¢NH</label>
                    <textarea class="form-control" id="imagePrompt" rows="6"></textarea>
                </div>

                <div class="form-group">
                    <label contenteditable="true" onblur="updateConfig('videoPromptLabel', this.textContent)" id="videoPromptLabel">üé¨ PROMPT T·∫†O VIDEO&nbsp;</label>
                    <textarea class="form-control" id="videoPrompt" rows="15"></textarea>
                </div>

                <div class="form-group">
                    <label contenteditable="true" onblur="updateConfig('negativePromptLabel', this.textContent)" id="negativePromptLabel">üö´ NEGATIVE PROMPT:</label>
                    <textarea class="form-control" id="negativePrompt" rows="3"></textarea>
                </div>

                <div class="grid-2">
                    <div class="form-group">
                        <label contenteditable="true" onblur="updateConfig('cameraMotionLabel', this.textContent)" id="cameraMotionLabel">üìπ Camera Motion:</label>
                        <select class="form-control" id="cameraMotion">
                            <option>Fixed</option>
                            <option>Dolly-in</option>
                            <option>Dolly-out</option>
                            <option>Pan left-right</option>
                            <option>Tilt up-down</option>
                            <option>Orbit</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label contenteditable="true" onblur="updateConfig('recommendedToolLabel', this.textContent)" id="recommendedToolLabel">üõ†Ô∏è Tool khuy√™n d√πng:</label>
                        <select class="form-control" id="recommendedTool">
                            <option>Higgsfield - Explosion</option>
                            <option>Higgsfield - General</option>
                            <option>Envato - General</option>
                            <option>Envato - Timelapse</option>
                            <option>Runway ML</option>
                            <option>Pika Labs</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 8: Decision Tree -->
        <div id="decision" class="section">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('decisionTreeTitle', this.textContent)" id="decisionTreeTitle">üå≥ Tool Selection Decision Tree</span>
                    </div>
                </div>
                <div class="decision-tree">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <div class="decision-node question" contenteditable="true" onblur="updateDecisionNode(0, this.textContent)">START: Nh·∫≠n y√™u c·∫ßu</div>
                        <div style="font-size: 2em; margin: 15px 0;">‚¨áÔ∏è</div>
                        <div class="decision-node question" contenteditable="true" onblur="updateDecisionNode(1, this.textContent)">Lo·∫°i hi·ªáu ·ª©ng l√† g√¨?</div>
                    </div>

                    <div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin-bottom: 30px;">
                        <div class="decision-node" contenteditable="true" onblur="updateDecisionOption(0, this.textContent)">M·∫∑c ƒë·ªãnh</div>
                        <div class="decision-node" contenteditable="true" onblur="updateDecisionOption(1, this.textContent)">N·ªôi th·∫•t</div>
                        <div class="decision-node" contenteditable="true" onblur="updateDecisionOption(2, this.textContent)">4 m√πa</div>
                        <div class="decision-node" contenteditable="true" onblur="updateDecisionOption(3, this.textContent)">D2N</div>
                        <div class="decision-node" contenteditable="true" onblur="updateDecisionOption(4, this.textContent)">N·ªï ·∫£nh</div>
                        <div class="decision-node" contenteditable="true" onblur="updateDecisionOption(5, this.textContent)">Th√™m ng∆∞·ªùi</div>
                        <div class="decision-node" contenteditable="true" onblur="updateDecisionOption(6, this.textContent)">Th·∫Øp l·ª≠a</div>
                        <div class="decision-node" contenteditable="true" onblur="updateDecisionOption(7, this.textContent)">D·ª±ng ·∫£nh</div>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px;" contenteditable="true" onblur="updateConfig('imageGenDecisionTitle', this.textContent)" id="imageGenDecisionTitle">üñºÔ∏è IMAGE GENERATION</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                            <div><span style="color: #fbbf24;" contenteditable="true" onblur="updateImageGenQuestion(0, this.textContent)">C·∫ßn ·∫£nh ki·∫øn tr√∫c chi ti·∫øt?</span> ‚ûú <span class="decision-node answer" contenteditable="true" onblur="updateImageGenAnswer(0, this.textContent)">Nano Banana Pro</span></div>
                            <div><span style="color: #fbbf24;" contenteditable="true" onblur="updateImageGenQuestion(1, this.textContent)">C·∫ßn consistency cao?</span> ‚ûú <span class="decision-node answer" contenteditable="true" onblur="updateImageGenAnswer(1, this.textContent)">Nano Banana Pro</span></div>
                            <div><span style="color: #fbbf24;" contenteditable="true" onblur="updateImageGenQuestion(2, this.textContent)">Quick edit/simple?</span> ‚ûú <span class="decision-node answer" contenteditable="true" onblur="updateImageGenAnswer(2, this.textContent)">Seedream4.5</span></div>
                            <div><span style="color: #fbbf24;" contenteditable="true" onblur="updateImageGenQuestion(3, this.textContent)">C·∫ßn ng∆∞·ªùi realistic?</span> ‚ûú <span class="decision-node answer" contenteditable="true" onblur="updateImageGenAnswer(3, this.textContent)">Nano Banana Pro</span></div>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px;" contenteditable="true" onblur="updateConfig('videoGenDecisionTitle', this.textContent)" id="videoGenDecisionTitle">üé¨ VIDEO GENERATION</h4>
                        <div class="table-container">
                            <table style="color: white;" id="videoGenDecisionTable"><tr>
                    <td contenteditable="true" onblur="updateVideoGenDecision(0, 'effect', this.textContent)" style="border-color: rgba(255,255,255,0.2);">M·∫∑c ƒë·ªãnh</td>
                    <td style="border-color: rgba(255,255,255,0.2);">‚Üí</td>
                    <td style="border-color: rgba(255,255,255,0.2);"><span class="decision-node answer" contenteditable="true" onblur="updateVideoGenDecision(0, 'tool', this.textContent)"></span></td>
                </tr><tr>
                    <td contenteditable="true" onblur="updateVideoGenDecision(1, 'effect', this.textContent)" style="border-color: rgba(255,255,255,0.2);">N·ªôi th·∫•t</td>
                    <td style="border-color: rgba(255,255,255,0.2);">‚Üí</td>
                    <td style="border-color: rgba(255,255,255,0.2);"><span class="decision-node answer" contenteditable="true" onblur="updateVideoGenDecision(1, 'tool', this.textContent)"></span></td>
                </tr><tr>
                    <td contenteditable="true" onblur="updateVideoGenDecision(2, 'effect', this.textContent)" style="border-color: rgba(255,255,255,0.2);">4 m√πa</td>
                    <td style="border-color: rgba(255,255,255,0.2);">‚Üí</td>
                    <td style="border-color: rgba(255,255,255,0.2);"><span class="decision-node answer" contenteditable="true" onblur="updateVideoGenDecision(2, 'tool', this.textContent)"></span></td>
                </tr><tr>
                    <td contenteditable="true" onblur="updateVideoGenDecision(3, 'effect', this.textContent)" style="border-color: rgba(255,255,255,0.2);">D2N</td>
                    <td style="border-color: rgba(255,255,255,0.2);">‚Üí</td>
                    <td style="border-color: rgba(255,255,255,0.2);"><span class="decision-node answer" contenteditable="true" onblur="updateVideoGenDecision(3, 'tool', this.textContent)"></span></td>
                </tr><tr>
                    <td contenteditable="true" onblur="updateVideoGenDecision(4, 'effect', this.textContent)" style="border-color: rgba(255,255,255,0.2);">N·ªï ·∫£nh</td>
                    <td style="border-color: rgba(255,255,255,0.2);">‚Üí</td>
                    <td style="border-color: rgba(255,255,255,0.2);"><span class="decision-node answer" contenteditable="true" onblur="updateVideoGenDecision(4, 'tool', this.textContent)"></span></td>
                </tr><tr>
                    <td contenteditable="true" onblur="updateVideoGenDecision(5, 'effect', this.textContent)" style="border-color: rgba(255,255,255,0.2);">Th√™m ng∆∞·ªùi</td>
                    <td style="border-color: rgba(255,255,255,0.2);">‚Üí</td>
                    <td style="border-color: rgba(255,255,255,0.2);"><span class="decision-node answer" contenteditable="true" onblur="updateVideoGenDecision(5, 'tool', this.textContent)"></span></td>
                </tr><tr>
                    <td contenteditable="true" onblur="updateVideoGenDecision(6, 'effect', this.textContent)" style="border-color: rgba(255,255,255,0.2);">Th·∫Øp l·ª≠a</td>
                    <td style="border-color: rgba(255,255,255,0.2);">‚Üí</td>
                    <td style="border-color: rgba(255,255,255,0.2);"><span class="decision-node answer" contenteditable="true" onblur="updateVideoGenDecision(6, 'tool', this.textContent)"></span></td>
                </tr><tr>
                    <td contenteditable="true" onblur="updateVideoGenDecision(7, 'effect', this.textContent)" style="border-color: rgba(255,255,255,0.2);">D·ª±ng ·∫£nh</td>
                    <td style="border-color: rgba(255,255,255,0.2);">‚Üí</td>
                    <td style="border-color: rgba(255,255,255,0.2);"><span class="decision-node answer" contenteditable="true" onblur="updateVideoGenDecision(7, 'tool', this.textContent)"></span></td>
                </tr></table>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px;">
                        <h4 style="margin-bottom: 15px;" contenteditable="true" onblur="updateConfig('postProcessDecisionTitle', this.textContent)" id="postProcessDecisionTitle">üé® POST-PROCESSING</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                            <div><span style="color: #fbbf24;" contenteditable="true" onblur="updatePostProcessQuestion(0, this.textContent)">C·∫ßn upscale 4K?</span> ‚ûú <span class="decision-node answer" contenteditable="true" onblur="updatePostProcessAnswer(0, this.textContent)">Topaz Video AI</span></div>
                            <div><span style="color: #fbbf24;" contenteditable="true" onblur="updatePostProcessQuestion(1, this.textContent)">C·∫ßn remove watermark?</span> ‚ûú <span class="decision-node answer" contenteditable="true" onblur="updatePostProcessAnswer(1, this.textContent)">After Effects/Photoshop</span></div>
                            <div><span style="color: #fbbf24;" contenteditable="true" onblur="updatePostProcessQuestion(2, this.textContent)">C·∫ßn color grade?</span> ‚ûú <span class="decision-node answer" contenteditable="true" onblur="updatePostProcessAnswer(2, this.textContent)">DaVinci / Premiere</span></div>
                            <div><span style="color: #fbbf24;" contenteditable="true" onblur="updatePostProcessQuestion(3, this.textContent)">Batch processing ·∫£nh v√†o video short AI?</span> ‚ûú <span class="decision-node answer" contenteditable="true" onblur="updatePostProcessAnswer(3, this.textContent)">Picsart Flow</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 9: Capacity -->
        <div id="capacity" class="section">
            <!-- Time Matrix -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('timeMatrixTitle', this.textContent)" id="timeMatrixTitle">‚è±Ô∏è Ma tr·∫≠n th·ªùi gian theo lo·∫°i job</span>
                    </div>
                </div>
                <div class="table-container">
                    <table id="timeMatrix">
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('timeMatrix', 0, this.textContent)">Lo·∫°i Effect</th>
                                <th contenteditable="true" onblur="updateTableHeader('timeMatrix', 1, this.textContent)">Time (ph√∫t)</th>
                                <th contenteditable="true" onblur="updateTableHeader('timeMatrix', 2, this.textContent)">Image</th>
                                <th contenteditable="true" onblur="updateTableHeader('timeMatrix', 3, this.textContent)">Video</th>
                                <th contenteditable="true" onblur="updateTableHeader('timeMatrix', 4, this.textContent)">QC</th>
                                <th contenteditable="true" onblur="updateTableHeader('timeMatrix', 5, this.textContent)">Bottleneck</th>
                            </tr>
                        </thead>
                        <tbody id="timeMatrixBody"><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(0, 'effect', this.textContent)">Th·∫Øp l·ª≠a</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(0, 'total', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(0, 'image', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(0, 'video', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(0, 'qc', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(0, 'bottleneck', this.textContent)">-</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(1, 'effect', this.textContent)">D2N</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(1, 'total', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(1, 'image', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(1, 'video', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(1, 'qc', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(1, 'bottleneck', this.textContent)">-</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(2, 'effect', this.textContent)">Th√™m n·ªôi th·∫•t</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(2, 'total', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(2, 'image', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(2, 'video', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(2, 'qc', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(2, 'bottleneck', this.textContent)">Image quality</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(3, 'effect', this.textContent)">Trang tr√≠ Noel</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(3, 'total', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(3, 'image', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(3, 'video', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(3, 'qc', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(3, 'bottleneck', this.textContent)">Image detail</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(4, 'effect', this.textContent)">4 m√πa</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(4, 'total', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(4, 'image', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(4, 'video', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(4, 'qc', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(4, 'bottleneck', this.textContent)">Cloud motion</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(5, 'effect', this.textContent)">M·∫∑c ƒë·ªãnh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(5, 'total', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(5, 'image', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(5, 'video', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(5, 'qc', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(5, 'bottleneck', this.textContent)">Consistency</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(6, 'effect', this.textContent)">Th√™m ng∆∞·ªùi</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(6, 'total', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(6, 'image', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(6, 'video', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(6, 'qc', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(6, 'bottleneck', this.textContent)">Face quality</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(7, 'effect', this.textContent)">N·ªï ·∫£nh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(7, 'total', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(7, 'image', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(7, 'video', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(7, 'qc', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(7, 'bottleneck', this.textContent)">Localization</span></td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(8, 'effect', this.textContent)">D·ª±ng ·∫£nh</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(8, 'total', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(8, 'image', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(8, 'video', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(8, 'qc', parseInt(this.textContent))">-</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(8, 'bottleneck', this.textContent)">Sequence</span></td>
                </tr></tbody>
                    </table>
                </div>
            </div>

            <!-- Capacity Calculator -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('capacityCalcTitle', this.textContent)" id="capacityCalcTitle">üìä Daily Capacity Calculator</span>
                    </div>
                </div>
                <div class="grid-2">
                    <div>
                        <div class="form-group">
                            <label contenteditable="true" onblur="updateConfig('workingHoursLabel', this.textContent)" id="workingHoursLabel">Working hours/day:</label>
                            <input type="number" class="form-control" id="workingHours" value="8" onchange="calculateCapacity()">
                        </div>
                        <div class="form-group">
                            <label contenteditable="true" onblur="updateConfig('overheadLabel', this.textContent)" id="overheadLabel">Overhead (meetings, breaks) - ph√∫t:</label>
                            <input type="number" class="form-control" id="overhead" value="60" onchange="calculateCapacity()">
                        </div>
                        <div class="form-group">
                            <label contenteditable="true" onblur="updateConfig('numArtistsLabel', this.textContent)" id="numArtistsLabel">Number of AI Artists:</label>
                            <input type="number" class="form-control" id="numArtists" value="3" onchange="calculateCapacity()">
                        </div>
                    </div>
                    <div>
                        <div class="stat-card" style="margin-bottom: 15px;">
                            <div class="stat-number" id="availableTime">420</div>
                            <div class="stat-label" contenteditable="true" onblur="updateConfig('availableTimeLabel', this.textContent)" id="availableTimeLabel">Ph√∫t kh·∫£ d·ª•ng/ng∆∞·ªùi</div>
                        </div>
                        <div class="stat-card green">
                            <div class="stat-number" id="totalCapacity">~NaN</div>
                            <div class="stat-label" contenteditable="true" onblur="updateConfig('totalCapacityLabel', this.textContent)" id="totalCapacityLabel">Jobs/ng√†y (team)</div>
                        </div>
                    </div>
                </div>

                <h4 style="margin: 20px 0 15px;">
                    <span contenteditable="true" onblur="updateConfig('capacityByEffectTitle', this.textContent)" id="capacityByEffectTitle">Capacity by Effect Type (per person/day)</span>
                </h4>
                <div id="capacityByEffect"><div class="chart-bar">
                    <span class="chart-label">Th·∫Øp l·ª≠a</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: NaN%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            NaN jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">NaN min</span>
                </div><div class="chart-bar">
                    <span class="chart-label">D2N</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: NaN%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            NaN jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">NaN min</span>
                </div><div class="chart-bar">
                    <span class="chart-label">Th√™m n·ªôi th·∫•t</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: NaN%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            NaN jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">NaN min</span>
                </div><div class="chart-bar">
                    <span class="chart-label">Trang tr√≠ Noel</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: NaN%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            NaN jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">NaN min</span>
                </div><div class="chart-bar">
                    <span class="chart-label">4 m√πa</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: NaN%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            NaN jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">NaN min</span>
                </div><div class="chart-bar">
                    <span class="chart-label">M·∫∑c ƒë·ªãnh</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: NaN%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            NaN jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">NaN min</span>
                </div><div class="chart-bar">
                    <span class="chart-label">Th√™m ng∆∞·ªùi</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: NaN%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            NaN jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">NaN min</span>
                </div><div class="chart-bar">
                    <span class="chart-label">N·ªï ·∫£nh</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: NaN%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            NaN jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">NaN min</span>
                </div><div class="chart-bar">
                    <span class="chart-label">D·ª±ng ·∫£nh</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: NaN%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            NaN jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">NaN min</span>
                </div></div>
            </div>

            <!-- Scaling Strategy -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('scalingStrategyTitle', this.textContent)" id="scalingStrategyTitle">üöÄ Scaling Strategy</span>
                    </div>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('scaling', 0, this.textContent)">Level</th>
                                <th contenteditable="true" onblur="updateTableHeader('scaling', 1, this.textContent)">Jobs/Day</th>
                                <th contenteditable="true" onblur="updateTableHeader('scaling', 2, this.textContent)">Team Size</th>
                                <th contenteditable="true" onblur="updateTableHeader('scaling', 3, this.textContent)">Automation Level</th>
                                <th contenteditable="true" onblur="updateTableHeader('scaling', 4, this.textContent)">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="complexity low" contenteditable="true" onblur="updateScalingLevel(0, this.textContent)">Level 1</span></td>
                                <td contenteditable="true" onblur="updateScalingData(0, 'jobs', this.textContent)">-</td>
                                <td contenteditable="true" onblur="updateScalingData(0, 'team', this.textContent)">2-3 ng∆∞·ªùi</td>
                                <td contenteditable="true" onblur="updateScalingData(0, 'auto', this.textContent)">Manual</td>
                                <td contenteditable="true" onblur="updateScalingData(0, 'actions', this.textContent)">SOP c∆° b·∫£n</td>
                            </tr>
                            <tr>
                                <td><span class="complexity medium" contenteditable="true" onblur="updateScalingLevel(1, this.textContent)">Level 2</span></td>
                                <td contenteditable="true" onblur="updateScalingData(1, 'jobs', this.textContent)">-</td>
                                <td contenteditable="true" onblur="updateScalingData(1, 'team', this.textContent)">4-6 ng∆∞·ªùi</td>
                                <td contenteditable="true" onblur="updateScalingData(1, 'auto', this.textContent)">30% auto</td>
                                <td contenteditable="true" onblur="updateScalingData(1, 'actions', this.textContent)">Batch processing, Templates</td>
                            </tr>
                            <tr>
                                <td><span class="complexity high" contenteditable="true" onblur="updateScalingLevel(2, this.textContent)">Level 3</span></td>
                                <td contenteditable="true" onblur="updateScalingData(2, 'jobs', this.textContent)">-</td>
                                <td contenteditable="true" onblur="updateScalingData(2, 'team', this.textContent)">6-10 ng∆∞·ªùi</td>
                                <td contenteditable="true" onblur="updateScalingData(2, 'auto', this.textContent)">50% auto</td>
                                <td contenteditable="true" onblur="updateScalingData(2, 'actions', this.textContent)">Weavy workflows, Pre-made assets</td>
                            </tr>
                            <tr>
                                <td><span class="complexity very-high" contenteditable="true" onblur="updateScalingLevel(3, this.textContent)">Level 4</span></td>
                                <td contenteditable="true" onblur="updateScalingData(3, 'jobs', this.textContent)">-</td>
                                <td contenteditable="true" onblur="updateScalingData(3, 'team', this.textContent)">10+ ng∆∞·ªùi</td>
                                <td contenteditable="true" onblur="updateScalingData(3, 'auto', this.textContent)">70% auto</td>
                                <td contenteditable="true" onblur="updateScalingData(3, 'actions', this.textContent)">Full pipeline automation</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Section 10: Training -->
        <div id="training" class="section">
            <!-- Training Curriculum -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('trainingCurriculumTitle', this.textContent)" id="trainingCurriculumTitle">üìö Training Curriculum</span>
                    </div>
                    <button class="btn btn-primary" onclick="addTrainingModule()">‚ûï Th√™m Module</button>
                </div>
                <div class="table-container">
                    <table id="trainingTable">
                        <thead>
                            <tr>
                                <th contenteditable="true" onblur="updateTableHeader('training', 0, this.textContent)">Module</th>
                                <th contenteditable="true" onblur="updateTableHeader('training', 1, this.textContent)">N·ªôi dung</th>
                                <th contenteditable="true" onblur="updateTableHeader('training', 2, this.textContent)">Duration</th>
                                <th contenteditable="true" onblur="updateTableHeader('training', 3, this.textContent)">Output</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="trainingBody"><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(0, 'module', this.textContent)">M1: Foundations</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(0, 'content', this.textContent)">AI tools overview, account setup</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(0, 'duration', this.textContent)">2 gi·ªù</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(0, 'output', this.textContent)">Tool access</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTraining(0)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(1, 'module', this.textContent)">M2: Image Gen</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(1, 'content', this.textContent)">Gemini, Midjourney basics</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(1, 'duration', this.textContent)">4 gi·ªù</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(1, 'output', this.textContent)">5 sample images</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTraining(1)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(2, 'module', this.textContent)">M3: Video Gen</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(2, 'content', this.textContent)">Google Veo, Kling AI Pro</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(2, 'duration', this.textContent)">6 gi·ªù</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(2, 'output', this.textContent)">5 sample videos</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTraining(2)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(3, 'module', this.textContent)">M4: Effects</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(3, 'content', this.textContent)">All 9 effect types hands-on</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(3, 'duration', this.textContent)">6 gi·ªù</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(3, 'output', this.textContent)">9 demo videos</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTraining(3)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(4, 'module', this.textContent)">M5: QC &amp; Polish</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(4, 'content', this.textContent)">Quality control, upscaling</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(4, 'duration', this.textContent)">2 gi·ªù</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(4, 'output', this.textContent)">QC certified</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTraining(4)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr><tr>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(5, 'module', this.textContent)">M6: Workflow</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(5, 'content', this.textContent)">SOP, tools, reporting</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(5, 'duration', this.textContent)">2 gi·ªù</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(5, 'output', this.textContent)">Process certified</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTraining(5)" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr></tbody>
                    </table>
                </div>
            </div>

            <!-- Skill Matrix -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span contenteditable="true" onblur="updateConfig('skillMatrixTitle', this.textContent)" id="skillMatrixTitle">‚≠ê Artist Skill Matrix</span>
                    </div>
                </div>
                <div class="scorecard">
                    <div class="form-group">
                        <label contenteditable="true" onblur="updateConfig('skillArtistNameLabel', this.textContent)" id="skillArtistNameLabel">Staff Name:</label>
                        <input type="text" class="form-control" id="skillArtistName" placeholder="Nh·∫≠p t√™n artist">
                    </div>
                    <div class="form-group">
                        <label contenteditable="true" onblur="updateConfig('skillDateLabel', this.textContent)" id="skillDateLabel">Date:</label>
                        <input type="date" class="form-control" id="skillDate">
                    </div>

                    <div class="score-section">
                        <div class="score-section-title" contenteditable="true" onblur="updateConfig('imageGenSkillTitle', this.textContent)" id="imageGenSkillTitle">IMAGE GENERATION</div>
                        <div class="skill-rating">
                            <label contenteditable="true" onblur="updateSkillToolName(0, this.textContent)">Gemini</label>
                            <div class="star-rating" data-skill="gemini">
                                <span class="star" data-value="1">‚òÖ</span>
                                <span class="star" data-value="2">‚òÖ</span>
                                <span class="star" data-value="3">‚òÖ</span>
                                <span class="star" data-value="4">‚òÖ</span>
                                <span class="star" data-value="5">‚òÖ</span>
                            </div>
                        </div>
                        <div class="skill-rating">
                            <label contenteditable="true" onblur="updateSkillToolName(1, this.textContent)">Midjourney</label>
                            <div class="star-rating" data-skill="midjourney">
                                <span class="star" data-value="1">‚òÖ</span>
                                <span class="star" data-value="2">‚òÖ</span>
                                <span class="star" data-value="3">‚òÖ</span>
                                <span class="star" data-value="4">‚òÖ</span>
                                <span class="star" data-value="5">‚òÖ</span>
                            </div>
                        </div>
                        <div class="skill-rating">
                            <label contenteditable="true" onblur="updateSkillToolName(2, this.textContent)">Flux</label>
                            <div class="star-rating" data-skill="leonardo">
                                <span class="star" data-value="1">‚òÖ</span>
                                <span class="star" data-value="2">‚òÖ</span>
                                <span class="star" data-value="3">‚òÖ</span>
                                <span class="star" data-value="4">‚òÖ</span>
                                <span class="star" data-value="5">‚òÖ</span>
                            </div>
                        </div>
                    </div>

                    <div class="score-section">
                        <div class="score-section-title" contenteditable="true" onblur="updateConfig('videoGenSkillTitle', this.textContent)" id="videoGenSkillTitle">VIDEO GENERATION</div>
                        <div class="skill-rating">
                            <label contenteditable="true" onblur="updateSkillToolName(3, this.textContent)">Google Veo</label>
                            <div class="star-rating" data-skill="higgsfield">
                                <span class="star" data-value="1">‚òÖ</span>
                                <span class="star" data-value="2">‚òÖ</span>
                                <span class="star" data-value="3">‚òÖ</span>
                                <span class="star" data-value="4">‚òÖ</span>
                                <span class="star" data-value="5">‚òÖ</span>
                            </div>
                        </div>
                        <div class="skill-rating">
                            <label contenteditable="true" onblur="updateSkillToolName(4, this.textContent)">Kling</label>
                            <div class="star-rating" data-skill="envato">
                                <span class="star" data-value="1">‚òÖ</span>
                                <span class="star" data-value="2">‚òÖ</span>
                                <span class="star" data-value="3">‚òÖ</span>
                                <span class="star" data-value="4">‚òÖ</span>
                                <span class="star" data-value="5">‚òÖ</span>
                            </div>
                        </div>
                        <div class="skill-rating">
                            <label contenteditable="true" onblur="updateSkillToolName(5, this.textContent)">Runway ML</label>
                            <div class="star-rating" data-skill="runway">
                                <span class="star" data-value="1">‚òÖ</span>
                                <span class="star" data-value="2">‚òÖ</span>
                                <span class="star" data-value="3">‚òÖ</span>
                                <span class="star" data-value="4">‚òÖ</span>
                                <span class="star" data-value="5">‚òÖ</span>
                            </div>
                        </div>
                    </div>

                    <div class="score-section">
                        <div class="score-section-title" contenteditable="true" onblur="updateConfig('effectTypesSkillTitle', this.textContent)" id="effectTypesSkillTitle">EFFECT TYPES</div>
                        <div class="grid-3" id="effectSkills"><div class="skill-rating">
                    <label contenteditable="true" onblur="updateConfig('effectSkill0', this.textContent)">M·∫∑c ƒë·ªãnh</label>
                    <div class="star-rating" data-skill="m·∫∑c_ƒë·ªãnh">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div><div class="skill-rating">
                    <label contenteditable="true" onblur="updateConfig('effectSkill1', this.textContent)">N·ªôi th·∫•t</label>
                    <div class="star-rating" data-skill="n·ªôi_th·∫•t">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div><div class="skill-rating">
                    <label contenteditable="true" onblur="updateConfig('effectSkill2', this.textContent)">4 m√πa</label>
                    <div class="star-rating" data-skill="4_m√πa">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div><div class="skill-rating">
                    <label contenteditable="true" onblur="updateConfig('effectSkill3', this.textContent)">D2N</label>
                    <div class="star-rating" data-skill="d2n">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div><div class="skill-rating">
                    <label contenteditable="true" onblur="updateConfig('effectSkill4', this.textContent)">Noel</label>
                    <div class="star-rating" data-skill="noel">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div><div class="skill-rating">
                    <label contenteditable="true" onblur="updateConfig('effectSkill5', this.textContent)">Th√™m ng∆∞·ªùi</label>
                    <div class="star-rating" data-skill="th√™m_ng∆∞·ªùi">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div><div class="skill-rating">
                    <label contenteditable="true" onblur="updateConfig('effectSkill6', this.textContent)">N·ªï ·∫£nh</label>
                    <div class="star-rating" data-skill="n·ªï_·∫£nh">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div><div class="skill-rating">
                    <label contenteditable="true" onblur="updateConfig('effectSkill7', this.textContent)">Th·∫Øp l·ª≠a</label>
                    <div class="star-rating" data-skill="th·∫Øp_l·ª≠a">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div><div class="skill-rating">
                    <label contenteditable="true" onblur="updateConfig('effectSkill8', this.textContent)">D·ª±ng ·∫£nh</label>
                    <div class="star-rating" data-skill="d·ª±ng_·∫£nh">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div></div>
                    </div>

                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn btn-success" onclick="saveSkillMatrix()">üíæ L∆∞u Skill Matrix</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Edit Item</h3>
                <button class="modal-close" onclick="closeModal()">‚úï</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Dynamic content -->
            </div>
        </div>
    </div>

    <script>
        // ============== DATA STORE ==============
        let appData = {
            config: {
                mainTitle: 'AI Video Effects Database',
                version: 'v2.0',
                subtitle: 'B·ªï sung C√¥ng c·ª• & Quy tr√¨nh Automation - Phi√™n b·∫£n ƒë·∫ßy ƒë·ªß c√≥ th·ªÉ ch·ªânh s·ª≠a',
                // Add more config items as needed
            },
            navTabs: [
                { id: 'overview', icon: 'üìä', name: 'T·ªïng quan' },
                { id: 'tools', icon: 'üõ†Ô∏è', name: 'C√¥ng c·ª•' },
                { id: 'assistants', icon: 'ü§ñ', name: 'AI Assistants' },
                { id: 'workflow', icon: 'üîÑ', name: 'Quy tr√¨nh' },
                { id: 'sop', icon: 'üìã', name: 'SOP Chi ti·∫øt' },
                { id: 'kpi', icon: 'üìä', name: 'KPI & B√°o c√°o' },
                { id: 'prompts', icon: 'üìö', name: 'Prompt Library' },
                { id: 'decision', icon: 'üå≥', name: 'Decision Tree' },
                { id: 'capacity', icon: '‚ö°', name: 'Capacity' },
                { id: 'training', icon: 'üìö', name: 'Training' }
            ],
            stats: {
                totalRecords: '163',
                totalRecordsLabel: 'T·ªïng Records',
                totalEffects: '9',
                totalEffectsLabel: 'Lo·∫°i hi·ªáu ·ª©ng',
                totalTools: '15+',
                totalToolsLabel: 'C√¥ng c·ª• AI',
                avgTime: '35',
                avgTimeLabel: 'Ph√∫t/Job TB'
            },
            effects: [
                { id: 1, name: 'M·∫∑c ƒë·ªãnh', records: 42, percent: 25.8, complexity: 'Cao', color: '#6366f1' },
                { id: 2, name: 'Th√™m n·ªôi th·∫•t', records: 26, percent: 16.0, complexity: 'Trung b√¨nh', color: '#10b981' },
                { id: 3, name: '4 m√πa (Seasonal)', records: 38, percent: 23.3, complexity: 'Cao', color: '#f59e0b' },
                { id: 4, name: 'D2N (Day to Night)', records: 14, percent: 8.6, complexity: 'Trung b√¨nh', color: '#ef4444' },
                { id: 5, name: 'Trang tr√≠ Noel', records: 10, percent: 6.1, complexity: 'Trung b√¨nh', color: '#8b5cf6' },
                { id: 6, name: 'Th√™m ng∆∞·ªùi', records: 28, percent: 17.2, complexity: 'R·∫•t cao', color: '#3b82f6' },
                { id: 7, name: 'N·ªï (Explosion)', records: 11, percent: 6.7, complexity: 'Cao', color: '#ec4899' },
                { id: 8, name: 'Th·∫Øp l·ª≠a', records: 16, percent: 9.8, complexity: 'Th·∫•p', color: '#14b8a6' },
                { id: 9, name: 'D·ª±ng ·∫£nh theo ph·∫ßn', records: 17, percent: 10.4, complexity: 'R·∫•t cao', color: '#f97316' }
            ],
            tools: [
                { current: 'Higgsfield', currentRole: 'Video generation ch√≠nh', proposed: 'Runway ML', proposedRole: 'Video gen cao c·∫•p' },
                { current: 'Envato', currentRole: 'Video generation', proposed: 'Pika Labs', proposedRole: 'Motion effects' },
                { current: 'Gemini', currentRole: 'T·∫°o ·∫£nh input', proposed: 'Midjourney', proposedRole: '·∫¢nh ch·∫•t l∆∞·ª£ng cao' },
                { current: '-', currentRole: '-', proposed: 'Leonardo AI', proposedRole: '·∫¢nh + consistency' },
                { current: '-', currentRole: '-', proposed: 'Freepik AI', proposedRole: 'Quick edits' },
                { current: '-', currentRole: '-', proposed: 'Picsart Flow', proposedRole: 'Batch processing' },
                { current: '-', currentRole: '-', proposed: 'Krea AI', proposedRole: 'Real-time generation' },
                { current: '-', currentRole: '-', proposed: 'Weavy', proposedRole: 'Workflow automation' },
                { current: '-', currentRole: '-', proposed: 'Flora', proposedRole: 'Style transfer' },
                { current: '-', currentRole: '-', proposed: 'ComfyUI', proposedRole: 'Custom pipelines' }
            ],
            assistants: [
                { name: 'HouseBuilder-GPT', effect: 'M·∫∑c ƒë·ªãnh', purpose: 'T·∫°o prompt x√¢y nh√†', input: '·∫¢nh ƒë·∫•t tr·ªëng + style nh√†', output: 'Prompt + ·∫£nh reference' },
                { name: 'StagingMaster-GPT', effect: 'Th√™m n·ªôi th·∫•t', purpose: 'Virtual staging', input: '·∫¢nh ph√≤ng tr·ªëng + style', output: 'Prompt staging' },
                { name: 'SeasonShift-GPT', effect: '4 m√πa', purpose: 'Chuy·ªÉn m√πa', input: '·∫¢nh g·ªëc + m√πa ƒë√≠ch', output: 'Prompt + ·∫£nh m√πa ƒë√≠ch' },
                { name: 'DayNight-GPT', effect: 'D2N', purpose: 'Day to night', input: '·∫¢nh ng√†y', output: 'Prompt + ·∫£nh ƒë√™m' },
                { name: 'XmasDecor-GPT', effect: 'Trang tr√≠ Noel', purpose: 'Christmas effects', input: '·∫¢nh nh√† + level decor', output: 'Prompt + ·∫£nh decorated' },
                { name: 'LifeStyle-GPT', effect: 'Th√™m ng∆∞·ªùi', purpose: 'Add people', input: '·∫¢nh kh√¥ng gian + scenario', output: 'Prompt + ·∫£nh c√≥ ng∆∞·ªùi' },
                { name: 'Explosion-GPT', effect: 'N·ªï ·∫£nh', purpose: 'Building explosion', input: '·∫¢nh nh√† + ki·ªÉu n·ªï', output: 'Prompt explosion' },
                { name: 'FireEffect-GPT', effect: 'Th·∫Øp l·ª≠a', purpose: 'Fire effects', input: '·∫¢nh l√≤ s∆∞·ªüi/b·∫øp', output: 'Prompt fire' },
                { name: 'Construction-GPT', effect: 'D·ª±ng ·∫£nh', purpose: 'Build timelapse', input: '·∫¢nh ƒë·∫•t + ·∫£nh ho√†n thi·ªán', output: 'Prompt construction' }
            ],
            stackLayers: [
                { title: 'LAYER 1: AI Assistants (Prompt Generation)', tools: ['Gems (Google)', 'CustomGPT (OpenAI)', 'Claude Projects', 'Poe Bot'] },
                { title: 'LAYER 2: Image Generation', tools: ['Midjourney', 'Leonardo AI', 'Freepik AI', 'Krea AI'] },
                { title: 'LAYER 3: Video Generation', tools: ['Higgsfield', 'Runway ML', 'Pika Labs', 'Envato'] },
                { title: 'LAYER 4: Post-processing & Workflow', tools: ['Picsart Flow', 'Weavy', 'ComfyUI', 'Flora'] },
                { title: 'LAYER 5: Project Management & Delivery', tools: ['Notion', 'Monday.com', 'Dropbox', 'Slack'] }
            ],
            functions: [
                { func: 'Ph√¢n t√≠ch y√™u c·∫ßu', main: 'Claude Projects', backup: 'ChatGPT', pros: 'Context d√†i', cons: 'C·∫ßn setup' },
                { func: 'T·∫°o prompt chu·∫©n', main: 'Google Gems', backup: 'CustomGPT', pros: 'T√πy bi·∫øn cao', cons: 'Gi·ªõi h·∫°n free' },
                { func: '·∫¢nh ki·∫øn tr√∫c', main: 'Midjourney v6', backup: 'Leonardo AI', pros: 'Ch·∫•t l∆∞·ª£ng cao', cons: 'Gi√° cao' },
                { func: '·∫¢nh n·ªôi th·∫•t', main: 'Leonardo AI', backup: 'Freepik AI', pros: 'Consistency', cons: 'Learning curve' },
                { func: 'Quick edits', main: 'Freepik AI', backup: 'Canva AI', pros: 'Nhanh, d·ªÖ', cons: 'Ch·∫•t l∆∞·ª£ng TB' },
                { func: 'Hi·ªáu ·ª©ng ch√≠nh', main: 'Higgsfield', backup: 'Runway ML', pros: 'ƒêa d·∫°ng effects', cons: 'Queue time' },
                { func: 'Motion smooth', main: 'Pika Labs', backup: 'Envato', pros: 'Motion quality', cons: 'Gi·ªõi h·∫°n length' },
                { func: 'Batch process', main: 'Picsart Flow', backup: 'ComfyUI', pros: 'Automation', cons: 'Setup ph·ª©c t·∫°p' },
                { func: 'Upscale', main: 'Topaz AI', backup: 'Real-ESRGAN', pros: 'Ch·∫•t l∆∞·ª£ng', cons: 'T·ªën resource' }
            ],
            step1Tasks: [
                { task: '1.1 Nh·∫≠n brief', person: 'Coordinator', tool: 'Slack/Email', time: '5 ph√∫t', output: 'Job ticket' },
                { task: '1.2 Check file input', person: 'Coordinator', tool: 'Dropbox', time: '10 ph√∫t', output: 'Input validated' },
                { task: '1.3 X√°c ƒë·ªãnh lo·∫°i effect', person: 'Coordinator', tool: 'Decision tree', time: '5 ph√∫t', output: 'Effect type' },
                { task: '1.4 ∆Ø·ªõc t√≠nh deadline', person: 'Coordinator', tool: 'Time matrix', time: '5 ph√∫t', output: 'Timeline' },
                { task: '1.5 Assign cho AI Artist', person: 'Coordinator', tool: 'Monday.com', time: '5 ph√∫t', output: 'Assignment' }
            ],
            inputChecklist: [
                'Link Dropbox/Drive ho·∫°t ƒë·ªông',
                '·∫¢nh/Video g·ªëc ƒë·ªß ch·∫•t l∆∞·ª£ng (min 1080p)',
                'Y√™u c·∫ßu r√µ r√†ng b·∫±ng text',
                'Sample/Reference n·∫øu c√≥',
                'Deadline x√°c nh·∫≠n',
                'Th√¥ng tin kh√°ch h√†ng'
            ],
            imageQCChecklist: [
                'Gi·ªØ nguy√™n t·ª∑ l·ªá g·ªëc (9:16, 16:9, etc.)',
                'Kh√¥ng thay ƒë·ªïi c·∫•u tr√∫c ch√≠nh',
                'Ch·∫•t l∆∞·ª£ng ƒë·ªß ƒë·ªÉ render video',
                'M√†u s·∫Øc ph√π h·ª£p v·ªõi ·∫£nh g·ªëc',
                'Kh√¥ng c√≥ artifacts/watermark'
            ],
            videoQCChecklist: [
                'Chuy·ªÉn ƒë·ªông m∆∞·ª£t m√†, kh√¥ng gi·∫≠t',
                'Kh√¥ng flicker/flash',
                'Kh√¥ng blur/m·ªù',
                'M·∫∑t ng∆∞·ªùi kh√¥ng b·ªã bi·∫øn d·∫°ng (n·∫øu c√≥)',
                'Camera motion ƒë√∫ng y√™u c·∫ßu',
                'Duration ƒë·ªß (th∆∞·ªùng 5-10s)',
                'Kh√¥ng c√≥ logo/watermark AI',
                'Lighting consistent'
            ],
            templates: [
                { effect: 'M·∫∑c ƒë·ªãnh', id: 'TEMP-001', gpt: 'HouseBuilder-GPT', tool: 'Higgsfield Explosion', time: '45 ph√∫t' },
                { effect: 'Th√™m n·ªôi th·∫•t', id: 'TEMP-002', gpt: 'StagingMaster-GPT', tool: 'Envato General', time: '30 ph√∫t' },
                { effect: '4 m√πa', id: 'TEMP-003', gpt: 'SeasonShift-GPT', tool: 'Higgsfield General', time: '40 ph√∫t' },
                { effect: 'D2N', id: 'TEMP-004', gpt: 'DayNight-GPT', tool: 'Envato Timelapse', time: '25 ph√∫t' },
                { effect: 'Trang tr√≠ Noel', id: 'TEMP-005', gpt: 'XmasDecor-GPT', tool: 'Higgsfield General', time: '35 ph√∫t' },
                { effect: 'Th√™m ng∆∞·ªùi', id: 'TEMP-006', gpt: 'LifeStyle-GPT', tool: 'Higgsfield Kling 2.6', time: '50 ph√∫t' },
                { effect: 'N·ªï ·∫£nh', id: 'TEMP-007', gpt: 'Explosion-GPT', tool: 'Higgsfield Explosion', time: '30 ph√∫t' },
                { effect: 'Th·∫Øp l·ª≠a', id: 'TEMP-008', gpt: 'FireEffect-GPT', tool: 'Higgsfield General', time: '20 ph√∫t' },
                { effect: 'D·ª±ng ·∫£nh', id: 'TEMP-009', gpt: 'Construction-GPT', tool: 'Higgsfield General', time: '60 ph√∫t' }
            ],
            exportTasks: [
                { task: 'Upscale 4K', tool: 'Topaz Video AI', settings: '4K, denoise medium', output: '.mp4 4K' },
                { task: 'Color correction', tool: 'DaVinci/Premiere', settings: 'Match original', output: 'Corrected' },
                { task: 'Remove watermark', tool: 'Photoshop/After Effects', settings: 'Content-aware', output: 'Clean' },
                { task: 'Add audio (n·∫øu c·∫ßn)', tool: 'Premiere', settings: 'Ambient sound', output: 'Final' },
                { task: 'Export', tool: 'Media Encoder', settings: 'H.264, 4K, 30fps', output: 'Final delivery' }
            ],
            kpis: [
                { metric: 'Jobs/Day/Person', desc: 'S·ªë job ho√†n th√†nh/ng√†y/ng∆∞·ªùi', target: '5-8 jobs', measure: 'Monday.com', category: 'Productivity' },
                { metric: 'Avg. Turnaround', desc: 'Th·ªùi gian trung b√¨nh ho√†n th√†nh', target: '< 2 gi·ªù', measure: 'Timestamp', category: 'Productivity' },
                { metric: 'First-pass Rate', desc: 'T·ª∑ l·ªá approved l·∫ßn ƒë·∫ßu', target: '> 70%', measure: 'Revision count', category: 'Productivity' },
                { metric: 'Client Satisfaction', desc: 'ƒêi·ªÉm h√†i l√≤ng kh√°ch', target: '> 4.5/5', measure: 'Feedback form', category: 'Quality' },
                { metric: 'Revision Rate', desc: 'T·ª∑ l·ªá ph·∫£i s·ª≠a', target: '< 30%', measure: 'Revision count', category: 'Quality' },
                { metric: 'Technical Errors', desc: 'L·ªói k·ªπ thu·∫≠t (flicker, blur)', target: '< 5%', measure: 'QC log', category: 'Quality' },
                { metric: 'Tool Utilization', desc: 'T·ª∑ l·ªá s·ª≠ d·ª•ng ƒë√∫ng tool', target: '> 90%', measure: 'Audit', category: 'Efficiency' },
                { metric: 'Template Compliance', desc: 'Tu√¢n th·ªß template', target: '> 95%', measure: 'Audit', category: 'Efficiency' },
                { metric: 'Automation Rate', desc: '% task t·ª± ƒë·ªông h√≥a', target: '> 40%', measure: 'Process audit', category: 'Efficiency' }
            ],
            kpiCards: [
                { title: 'Jobs/Day/Person', value: '5-8',
		                change: 'Target' },
                { title: 'Avg. Turnaround', value: '< 2h', change: 'Target' },
                { title: 'First-pass Rate', value: '> 70%', change: 'Target' },
                { title: 'Client Satisfaction', value: '> 4.5/5', change: 'Target' }
            ],
            timeMatrix: [
                { effect: 'Th·∫Øp l·ª≠a', total: 20, image: 5, video: 10, qc: 5, bottleneck: '-' },
                { effect: 'D2N', total: 25, image: 5, video: 15, qc: 5, bottleneck: '-' },
                { effect: 'Th√™m n·ªôi th·∫•t', total: 30, image: 10, video: 15, qc: 5, bottleneck: 'Image quality' },
                { effect: 'Trang tr√≠ Noel', total: 35, image: 15, video: 15, qc: 5, bottleneck: 'Image detail' },
                { effect: '4 m√πa', total: 40, image: 15, video: 20, qc: 5, bottleneck: 'Cloud motion' },
                { effect: 'M·∫∑c ƒë·ªãnh', total: 45, image: 15, video: 25, qc: 5, bottleneck: 'Consistency' },
                { effect: 'Th√™m ng∆∞·ªùi', total: 50, image: 20, video: 25, qc: 5, bottleneck: 'Face quality' },
                { effect: 'N·ªï ·∫£nh', total: 30, image: 0, video: 25, qc: 5, bottleneck: 'Localization' },
                { effect: 'D·ª±ng ·∫£nh', total: 60, image: 20, video: 35, qc: 5, bottleneck: 'Sequence' }
            ],
            training: [
                { module: 'M1: Foundations', content: 'AI tools overview, account setup', duration: '2 gi·ªù', output: 'Tool access' },
                { module: 'M2: Image Gen', content: 'Gemini, Midjourney, Leonardo basics', duration: '4 gi·ªù', output: '5 sample images' },
                { module: 'M3: Video Gen', content: 'Higgsfield, Envato deep dive', duration: '6 gi·ªù', output: '5 sample videos' },
                { module: 'M4: Effects', content: 'All 9 effect types hands-on', duration: '8 gi·ªù', output: '9 demo videos' },
                { module: 'M5: QC & Polish', content: 'Quality control, upscaling', duration: '2 gi·ªù', output: 'QC certified' },
                { module: 'M6: Workflow', content: 'SOP, tools, reporting', duration: '2 gi·ªù', output: 'Process certified' }
            ],
            workflowSteps: [
                { icon: 'üì•', title: 'NH·∫¨N JOB', desc: 'Check Input' },
                { icon: 'üéØ', title: 'PH√ÇN LO·∫†I', desc: 'Ch·ªçn Template' },
                { icon: 'üñºÔ∏è', title: 'T·∫†O ·∫¢NH', desc: 'QC ·∫£nh' },
                { icon: 'üé¨', title: 'T·∫†O VIDEO', desc: 'QC Video' },
                { icon: '‚ú®', title: 'CH·ªàNH S·ª¨A', desc: 'Xu·∫•t 4K' },
                { icon: '‚úÖ', title: 'DELIVERY', desc: 'Feedback' }
            ],
            promptTemplates: {
                house: {
                    title: 'üè† Template: M·∫∑c ƒë·ªãnh (House Appearing)',
                    image: `T·∫°o h√¨nh ·∫£nh [STYLE nh√†: modern/traditional/farmhouse] tr√™n khu ƒë·∫•t trong ·∫£nh g·ªëc.
- Gi·ªØ nguy√™n t·ª∑ l·ªá [9:16/16:9]
- Gi·ªØ nguy√™n g√≥c cam
- Kh√¥ng thay ƒë·ªïi m√¥i tr∆∞·ªùng xung quanh
- Nh√† ph·∫£i n·∫±m trong ranh gi·ªõi ƒë·∫•t`,
                    video: `A cinematic realistic transformation video.
Starting from Image 1: empty land with [M√î T·∫¢].
Transitioning to Image 2: the same land with a [STYLE] house.

The house gradually emerges from the ground in stages:
- Foundation appears first
- Walls rise smoothly  
- Roof assembles naturally
- Windows, doors, and details complete last

Camera: [fixed/dolly-in/dolly-out/pan left-right]
No construction machinery or workers visible.
Lighting remains constant throughout.
No flickering, no flashing, no blur.
Smooth continuous transformation.
High realism, cinematic quality.`,
                    negative: `No people, no vehicles, no machinery, no sudden jumps, 
no object distortion, no additional buildings beyond input images.`,
                    camera: 'Dolly-out',
                    tool: 'Higgsfield - Explosion'
                },
                staging: {
                    title: 'üõãÔ∏è Template: Th√™m n·ªôi th·∫•t (Virtual Staging)',
                    image: `Th√™m n·ªôi th·∫•t [STYLE: modern/luxury/cozy] v√†o [LO·∫†I PH√íNG].
- Gi·ªØ nguy√™n c·∫•u tr√∫c ph√≤ng
- Gi·ªØ nguy√™n t·ª∑ l·ªá ·∫£nh [9:16/16:9]
- Kh√¥ng che c·ª≠a ra v√†o/c·ª≠a s·ªï
- √Ånh s√°ng ph√π h·ª£p v·ªõi ·∫£nh g·ªëc`,
                    video: `Create a smooth interior staging reveal video.

Start from Image 1: an empty [ROOM TYPE] with bare walls and floor.
Transition to Image 2: the same room fully furnished.

Furniture appears [simultaneously/one by one] in their exact final positions.
- [LIST c√°c ƒë·ªì n·ªôi th·∫•t c·∫ßn xu·∫•t hi·ªán]

Each object materializes with soft fade-in, no sliding or flying in.
Camera: [fixed/dolly-in from far to near]
No camera shake, no zoom jumps.

Lighting remains stable and realistic.
No flicker, no flash, no exposure changes.
Seamless, continuous transformation.
High-end interior visualization style.`,
                    negative: `No object morphing (chair stays chair, not becomes table),
no position shifting, no scale changes, no added objects beyond Image 2.`,
                    camera: 'Dolly-in',
                    tool: 'Envato - General'
                },
                season: {
                    title: 'üçÇ Template: 4 m√πa (Seasonal Transition)',
                    image: `T·∫°o c·∫£nh [M√ôA ƒê√çCH: xu√¢n/h√®/thu/ƒë√¥ng] cho ·∫£nh n√†y.
- [M√¥ t·∫£ ƒë·∫∑c ƒëi·ªÉm m√πa: tuy·∫øt/l√° v√†ng/hoa/n·∫Øng]
- Gi·ªØ nguy√™n c·∫•u tr√∫c nh√† v√† c·∫£nh
- Gi·ªØ nguy√™n t·ª∑ l·ªá [9:16/16:9]
- G√≥c cam c·ªë ƒë·ªãnh`,
                    video: `Create a cinematic seasonal timelapse transition.
Scene: [M√î T·∫¢ C·∫¢NH - front of house/backyard/aerial view]

Transition from [M√ôA G·ªêC] (Image 1) to [M√ôA ƒê√çCH] (Image 2).

Seasonal transformation:
- [M√î T·∫¢ THAY ƒê·ªîI: snow melts/leaves change color/flowers bloom]
- Sky and clouds move smoothly in timelapse style (hyper-cloud)
- Lighting transitions naturally from [cold/warm] to [warm/cold]

Camera: [fixed/dolly-in/dolly-out/pan]
Duration: approximately equal time for both seasons.

No flickering, no flashing, no motion blur.
Smooth continuous transformation.
Preserve original composition and perspective.
Do not add or remove objects.
High realism, cinematic quality.`,
                    negative: `No fictional elements, no object distortion, no sudden jumps,
no vehicles moving (if present, stay static).`,
                    camera: 'Fixed',
                    tool: 'Higgsfield - General'
                },
                d2n: {
                    title: 'üåô Template: Day to Night (D2N)',
                    image: `T·∫°o c·∫£nh ban ƒë√™m cho ·∫£nh n√†y.
- B·∫ßu tr·ªùi t·ªëi v·ªõi sao/trƒÉng
- ƒê√®n nh√† b·∫≠t s√°ng ƒë√™m
- Gi·ªØ nguy√™n c·∫•u tr√∫c v√† t·ª∑ l·ªá
- G√≥c cam c·ªë ƒë·ªãnh`,
                    video: `Create a cinematic day-to-night timelapse transition.

Start from Image 1: daytime scene with natural lighting.
End at Image 2: nighttime scene with [moon/stars/house lights on].

Transition details:
- Sky gradually darkens from day ‚Üí dusk ‚Üí night
- Clouds move smoothly in timelapse style
- House/building lights turn on gradually (not suddenly)
- [Moon and stars appear naturally] if applicable

Camera: [fixed/dolly-in/dolly-out]
Day and night portions have approximately equal duration.
Night scene holds for at least 3 seconds at the end.

No flickering lights, no exposure jumps.
No sudden brightness changes.
Seamless, continuous transition.
Maintain original composition.
High realism, stable frames.`,
                    negative: `No added objects, no people appearing, no weather changes,
no light flashing, no color jumping.`,
                    camera: 'Fixed',
                    tool: 'Envato - Timelapse Landscape'
                },
                people: {
                    title: 'üë• Template: Th√™m ng∆∞·ªùi (Lifestyle/People)',
                    image: `Th√™m [S·ªê NG∆Ø·ªúI] ng∆∞·ªùi v√†o [V·ªä TR√ç] trong ·∫£nh.
- M√¥ t·∫£: [gia ƒë√¨nh/b·∫°n b√®/c·∫∑p ƒë√¥i]
- Ho·∫°t ƒë·ªông: [n·∫•u ƒÉn/xem TV/b∆°i l·ªôi/n√≥i chuy·ªán]
- Gi·ªØ nguy√™n t·ª∑ l·ªá ·∫£nh v√† c·∫•u tr√∫c kh√¥ng gian
- Ng∆∞·ªùi ph·∫£i c√≥ t·ª∑ l·ªá ph√π h·ª£p v·ªõi kh√¥ng gian`,
                    video: `Generate a realistic lifestyle video from the input image.

Scene: [M√î T·∫¢ SCENE - family in kitchen/friends at pool/etc.]

People present: [M√î T·∫¢ CHI TI·∫æT]
- [Person 1]: [v·ªã tr√≠ + h√†nh ƒë·ªông]
- [Person 2]: [v·ªã tr√≠ + h√†nh ƒë·ªông]
- [etc.]

Movement requirements:
- Subtle, natural movements only
- Small head turns, hand gestures, natural breathing
- Realistic facial expressions
- No exaggerated motion

Camera: [fixed/slow dolly-in]
No camera shake, no sudden zoom.

CRITICAL: 
- Faces must remain stable and consistent
- No face distortion, no morphing, no identity change
- Bodies maintain correct proportions
- No sudden appearance or disappearance

Preserve original environment exactly.
Do not add or remove objects/people beyond description.
Warm, natural lighting, realistic shadows.
High realism, smooth motion.`,
                    negative: `No face distortion, no body deformation, no extra limbs,
no people disappearing, no unnatural poses, no frozen expressions.`,
                    camera: 'Fixed',
                    tool: 'Higgsfield - General Kling 2.6'
                },
                explosion: {
                    title: 'üí• Template: N·ªï ·∫£nh (Building Explosion)',
                    image: '',
                    video: `Create a cinematic building explosion from the input image.

Target: [M√î T·∫¢ T√íA NH√Ä C·∫¶N N·ªî - the white house at center/the building marked in red]

Explosion type: [standard/bomb-style/controlled demolition/ground explosion]

Explosion details:
- [M√¥ t·∫£ chi ti·∫øt ki·ªÉu n·ªï theo y√™u c·∫ßu]
- Realistic debris, dust, smoke
- Shockwave effect (if applicable)
- Fire/flames (if applicable)

Camera: [fixed/pull back and up/pan]

CRITICAL RESTRICTIONS:
- Only [TARGET BUILDING] explodes
- All surrounding buildings remain completely intact
- No debris affects other structures
- No shockwave damage to neighbors

Cinematic realism, dramatic lighting.
Realistic physics, natural debris motion.
High-impact VFX quality.`,
                    negative: `No damage to surrounding buildings, no people visible,
no unrealistic physics, no cartoon-style effects.`,
                    camera: 'Fixed',
                    tool: 'Higgsfield - Building Explosion'
                },
                fire: {
                    title: 'üî• Template: Th·∫Øp l·ª≠a (Fire Effects)',
                    image: `Th√™m l·ª≠a v√†o [l√≤ s∆∞·ªüi/fire pit/b·∫øp gas] trong ·∫£nh.
- L·ª≠a t·ª± nhi√™n, kh√¥ng qu√° to
- √Ånh s√°ng m·ªÅm t·ª´ l·ª≠a chi·∫øu xung quanh
- Gi·ªØ nguy√™n c√°c chi ti·∫øt kh√°c`,
                    video: `Create a realistic fire ignition video.

Scene: [LO·∫†I - fireplace/fire pit/gas stove]

Fire behavior:
- Fire starts gently and builds up smoothly
- Flames dance naturally with subtle flickering
- Flame size remains constant (does not spread)
- Warm firelight illuminates surrounding area

Camera: [fixed/slow dolly-in]
No camera shake.

Lighting changes are gradual and realistic.
No sudden brightness jumps.
No sparks flying, no smoke (unless requested).
Cozy, warm atmosphere.
High realism, natural fire motion.`,
                    negative: `No fire spreading beyond fireplace, no explosion,
no unrealistic flame behavior, no exposure jumps.`,
                    camera: 'Fixed',
                    tool: 'Higgsfield - General'
                },
                construction: {
                    title: 'üèóÔ∏è Template: D·ª±ng ·∫£nh theo ph·∫ßn (Construction Timelapse)',
                    image: `T·∫°o h√¨nh ·∫£nh [LO·∫†I NH√Ä] ho√†n thi·ªán tr√™n khu ƒë·∫•t trong ·∫£nh.
- Style: [modern/traditional/Spanish/farmhouse]
- Gi·ªØ nguy√™n t·ª∑ l·ªá v√† g√≥c cam
- Nh√† n·∫±m trong ranh gi·ªõi ƒë·∫•t`,
                    video: `Create a realistic architectural construction timelapse.

Starting state: Empty plot of land (Image 1)
Ending state: Completed house (Image 2)

Construction sequence (must show all stages):
1. Ground preparation, foundation forming
2. Structural frame rising
3. Walls building up
4. Roof assembling
5. Windows and doors installing
6. Exterior finishing completing

Construction style:
- As if an invisible construction team is building
- No workers, no machinery, no vehicles visible
- Each stage flows naturally into the next

Camera: [fixed/slow dolly-out]
Lighting remains constant (same time of day throughout).

Smooth, continuous construction progression.
No flickering, no flashing, no sudden jumps.
Realistic scale and proportions.
High realism, professional architectural visualization.`,
                    negative: `No people, no machines, no vehicles, no scaffolding visible,
no time-of-day changes, no weather changes.`,
                    camera: 'Dolly-out',
                    tool: 'Higgsfield - General'
                }
            },
            promptTabNames: [
                { id: 'house', name: 'üè† M·∫∑c ƒë·ªãnh' },
                { id: 'staging', name: 'üõãÔ∏è N·ªôi th·∫•t' },
                { id: 'season', name: 'üçÇ 4 m√πa' },
                { id: 'd2n', name: 'üåô D2N' },
                { id: 'people', name: 'üë• Th√™m ng∆∞·ªùi' },
                { id: 'explosion', name: 'üí• N·ªï ·∫£nh' },
                { id: 'fire', name: 'üî• Th·∫Øp l·ª≠a' },
                { id: 'construction', name: 'üèóÔ∏è D·ª±ng ·∫£nh' }
            ],
            tableHeaders: {},
            videoGenDecisions: [
                { effect: 'M·∫∑c ƒë·ªãnh', arrow: '‚Üí', tool: 'Higgsfield (Explosion)' },
                { effect: 'N·ªôi th·∫•t', arrow: '‚Üí', tool: 'Envato (General)' },
                { effect: '4 m√πa', arrow: '‚Üí', tool: 'Higgsfield (General - Kling 2.5)' },
                { effect: 'D2N', arrow: '‚Üí', tool: 'Envato (Timelapse Landscape)' },
                { effect: 'N·ªï ·∫£nh', arrow: '‚Üí', tool: 'Higgsfield (Building Explosion)' },
                { effect: 'Th√™m ng∆∞·ªùi', arrow: '‚Üí', tool: 'Higgsfield (General - Kling 2.6)' },
                { effect: 'Th·∫Øp l·ª≠a', arrow: '‚Üí', tool: 'Higgsfield (General)' },
                { effect: 'D·ª±ng ·∫£nh', arrow: '‚Üí', tool: 'Higgsfield (General)' }
            ]
        };

        let autoSaveTimeout;

        // ============== UPDATE FUNCTIONS ==============
        function updateConfig(key, value) {
            appData.config[key] = value;
            autoSave();
        }

        function updateStat(key, value) {
            appData.stats[key] = value;
            autoSave();
        }

        function updateEffect(index, field, value) {
            appData.effects[index][field] = value;
            renderBarChart();
            renderPieLegend();
            autoSave();
        }

        function updateTool(index, field, value) {
            appData.tools[index][field] = value;
            autoSave();
        }

        function updateStackLayer(layerIndex, field, value) {
            appData.stackLayers[layerIndex][field] = value;
            autoSave();
        }

        function updateStackTool(layerIndex, toolIndex, value) {
            appData.stackLayers[layerIndex].tools[toolIndex] = value;
            autoSave();
        }

        function updateFunction(index, field, value) {
            appData.functions[index][field] = value;
            autoSave();
        }

        function updateAssistant(index, field, value) {
            appData.assistants[index][field] = value;
            autoSave();
        }

        function updateStep1(index, field, value) {
            appData.step1Tasks[index][field] = value;
            autoSave();
        }

        function updateChecklist(dataKey, index, value) {
            appData[dataKey][index] = value;
            autoSave();
        }

        function updateTemplate(index, field, value) {
            appData.templates[index][field] = value;
            autoSave();
        }

        function updateExport(index, field, value) {
            appData.exportTasks[index][field] = value;
            autoSave();
        }

        function updateKPI(index, field, value) {
            appData.kpis[index][field] = value;
            autoSave();
        }

        function updateKPICard(index, field, value) {
            appData.kpiCards[index][field] = value;
            autoSave();
        }

        function updateTimeMatrix(index, field, value) {
            appData.timeMatrix[index][field] = value;
            calculateCapacity();
            autoSave();
        }

        function updateTraining(index, field, value) {
            appData.training[index][field] = value;
            autoSave();
        }

        function updateTableHeader(tableName, index, value) {
            if (!appData.tableHeaders[tableName]) {
                appData.tableHeaders[tableName] = [];
            }
            appData.tableHeaders[tableName][index] = value;
            autoSave();
        }

        function updateNavTab(index, value) {
            appData.navTabs[index].name = value;
            autoSave();
        }

        function updateWorkflowStep(index, field, value) {
            appData.workflowSteps[index][field] = value;
            autoSave();
        }

        function updateWorkflowDetail(key, value) {
            if (!appData.workflowDetails) appData.workflowDetails = {};
            appData.workflowDetails[key] = value;
            autoSave();
        }

        function updateScoreItem(index, value) {
            if (!appData.scoreItems) appData.scoreItems = [];
            appData.scoreItems[index] = value;
            autoSave();
        }

        function updateReportLabel(index, value) {
            if (!appData.reportLabels) appData.reportLabels = [];
            appData.reportLabels[index] = value;
            autoSave();
        }

        function updateReportTableHeader(index, value) {
            if (!appData.reportTableHeaders) appData.reportTableHeaders = [];
            appData.reportTableHeaders[index] = value;
            autoSave();
        }

        function updateReportEffectName(index, value) {
            if (!appData.reportEffectNames) appData.reportEffectNames = [];
            appData.reportEffectNames[index] = value;
            autoSave();
        }

        function updatePromptTabName(index, value) {
            appData.promptTabNames[index].name = value;
            renderPromptTabs();
            autoSave();
        }

        function updateDecisionNode(index, value) {
            if (!appData.decisionNodes) appData.decisionNodes = [];
            appData.decisionNodes[index] = value;
            autoSave();
        }

        function updateDecisionOption(index, value) {
            if (!appData.decisionOptions) appData.decisionOptions = [];
            appData.decisionOptions[index] = value;
            autoSave();
        }

        function updateImageGenQuestion(index, value) {
            if (!appData.imageGenQuestions) appData.imageGenQuestions = [];
            appData.imageGenQuestions[index] = value;
            autoSave();
        }

        function updateImageGenAnswer(index, value) {
            if (!appData.imageGenAnswers) appData.imageGenAnswers = [];
            appData.imageGenAnswers[index] = value;
            autoSave();
        }

        function updatePostProcessQuestion(index, value) {
            if (!appData.postProcessQuestions) appData.postProcessQuestions = [];
            appData.postProcessQuestions[index] = value;
            autoSave();
        }

        function updatePostProcessAnswer(index, value) {
            if (!appData.postProcessAnswers) appData.postProcessAnswers = [];
            appData.postProcessAnswers[index] = value;
            autoSave();
        }

        function updateScalingLevel(index, value) {
            if (!appData.scalingLevels) appData.scalingLevels = [];
            appData.scalingLevels[index] = value;
            autoSave();
        }

        function updateScalingData(index, field, value) {
            if (!appData.scalingData) appData.scalingData = [];
            if (!appData.scalingData[index]) appData.scalingData[index] = {};
            appData.scalingData[index][field] = value;
            autoSave();
        }

        function updateSkillToolName(index, value) {
            if (!appData.skillToolNames) appData.skillToolNames = [];
            appData.skillToolNames[index] = value;
            autoSave();
        }

        function updateVideoGenDecision(index, field, value) {
            appData.videoGenDecisions[index][field] = value;
            autoSave();
        }

        // ============== AUTO SAVE ==============
        function autoSave() {
            clearTimeout(autoSaveTimeout);
            autoSaveTimeout = setTimeout(() => {
                saveData(true);
            }, 1000); // Auto-save after 1 second of no changes
        }

        function showAutoSaveIndicator() {
            const indicator = document.getElementById('autoSaveIndicator');
            indicator.classList.add('show');
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 2000);
        }

        // ============== UTILITY FUNCTIONS ==============
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }

        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `${type === 'success' ? '‚úì' : '‚úï'} ${message}`;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function getComplexityClass(complexity) {
            switch(complexity) {
                case 'R·∫•t cao': return 'very-high';
                case 'Cao': return 'high';
                case 'Trung b√¨nh': return 'medium';
                case 'Th·∫•p': return 'low';
                default: return 'medium';
            }
        }

        // ============== RENDER FUNCTIONS ==============
        function renderNavTabs() {
            const container = document.getElementById('navTabs');
            container.innerHTML = '';
            
            appData.navTabs.forEach((tab, index) => {
                const button = document.createElement('button');
                button.className = `nav-tab ${index === 0 ? 'active' : ''}`;
                button.innerHTML = `${tab.icon} <span contenteditable="true" onblur="updateNavTab(${index}, this.textContent)">${tab.name}</span>`;
                button.onclick = (e) => {
                    if (e.target.tagName !== 'SPAN') {
                        showSection(tab.id);
                    }
                };
                container.appendChild(button);
            });
        }

        function renderEffectsTable() {
            const tbody = document.getElementById('effectsBody');
            tbody.innerHTML = '';
            
            appData.effects.forEach((effect, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${effect.id}</td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(${index}, 'name', this.textContent)">${effect.name}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(${index}, 'records', parseInt(this.textContent))">${effect.records}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateEffect(${index}, 'percent', parseFloat(this.textContent))">${effect.percent}%</span></td>
                    <td>
                        <select onchange="updateEffect(${index}, 'complexity', this.value)" style="padding: 5px; border-radius: 5px; border: 1px solid var(--border);">
                            <option ${effect.complexity === 'Th·∫•p' ? 'selected' : ''}>Th·∫•p</option>
                            <option ${effect.complexity === 'Trung b√¨nh' ? 'selected' : ''}>Trung b√¨nh</option>
                            <option ${effect.complexity === 'Cao' ? 'selected' : ''}>Cao</option>
                            <option ${effect.complexity === 'R·∫•t cao' ? 'selected' : ''}>R·∫•t cao</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${effect.percent}%; background: ${effect.color};"></div>
                        </div>
                    </td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteEffect(${index})" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });

            renderBarChart();
            renderPieLegend();
        }

        function renderBarChart() {
            const container = document.getElementById('barChart');
            container.innerHTML = '';
            
            appData.effects.forEach(effect => {
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.innerHTML = `
                    <span class="chart-label">${effect.name}</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: ${effect.percent * 3}%; background: ${effect.color};">
                            ${effect.records}
                        </div>
                    </div>
                `;
                container.appendChild(bar);
            });
        }

        function renderPieLegend() {
            const container = document.getElementById('pieLegend');
            container.innerHTML = '';
            
            appData.effects.forEach(effect => {
                const item = document.createElement('div');
                item.className = 'legend-item';
                item.innerHTML = `
                    <div class="legend-color" style="background: ${effect.color};"></div>
                    <span>${effect.name} (${effect.percent}%)</span>
                `;
                container.appendChild(item);
            });
        }

        function renderToolsTable() {
            const tbody = document.getElementById('toolsBody');
            tbody.innerHTML = '';
            
            appData.tools.forEach((tool, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="editable" contenteditable="true" onblur="updateTool(${index}, 'current', this.textContent)">${tool.current}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(${index}, 'currentRole', this.textContent)">${tool.currentRole}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(${index}, 'proposed', this.textContent)" style="font-weight: 600; color: var(--primary);">${tool.proposed}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTool(${index}, 'proposedRole', this.textContent)">${tool.proposedRole}</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTool(${index})" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderStackLayers() {
            const container = document.getElementById('stackLayers');
            container.innerHTML = '';
            
            appData.stackLayers.forEach((layer, layerIndex) => {
                const layerDiv = document.createElement('div');
                layerDiv.className = 'stack-layer';
                layerDiv.innerHTML = `
                    <div class="layer-title" contenteditable="true" onblur="updateStackLayer(${layerIndex}, 'title', this.textContent)">${layer.title}</div>
                    <div class="tool-grid" id="toolGrid${layerIndex}">
                        ${layer.tools.map((tool, toolIndex) => `
                            <div class="tool-item" contenteditable="true" onblur="updateStackTool(${layerIndex}, ${toolIndex}, this.textContent)">${tool}</div>
                        `).join('')}
                        <button class="btn-icon add" onclick="addStackTool(${layerIndex})" title="Th√™m tool">‚ûï</button>
                    </div>
                `;
                container.appendChild(layerDiv);
            });
        }

        function renderFunctionsTable() {
            const tbody = document.getElementById('functionsBody');
            tbody.innerHTML = '';
            
            appData.functions.forEach((func, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(${index}, 'func', this.textContent)">${func.func}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(${index}, 'main', this.textContent)">${func.main}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(${index}, 'backup', this.textContent)">${func.backup}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(${index}, 'pros', this.textContent)">${func.pros}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateFunction(${index}, 'cons', this.textContent)">${func.cons}</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteFunction(${index})" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderAssistantsGrid() {
            const container = document.getElementById('assistantsGrid');
            container.innerHTML = '';
            
            appData.assistants.forEach((assistant, index) => {
                const card = document.createElement('div');
                card.className = 'assistant-card';
                card.innerHTML = `
                    <div class="assistant-name" contenteditable="true" onblur="updateAssistant(${index}, 'name', this.textContent)">${assistant.name}</div>
                    <div class="assistant-purpose" contenteditable="true" onblur="updateAssistant(${index}, 'purpose', this.textContent)">${assistant.purpose}</div>
                    <div class="assistant-tags">
                        <span class="tag" contenteditable="true" onblur="updateAssistant(${index}, 'effect', this.textContent)">üéØ ${assistant.effect}</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(${index}, 'input', this.textContent)">üì• ${assistant.input}</span>
                        <span class="tag" contenteditable="true" onblur="updateAssistant(${index}, 'output', this.textContent)">üì§ ${assistant.output}</span>
                    </div>
                    <button class="btn-icon delete" style="margin-top: 10px;" onclick="deleteAssistant(${index})" title="X√≥a">üóëÔ∏è</button>
                `;
                container.appendChild(card);
            });
        }

        function renderWorkflowDiagram() {
            const container = document.getElementById('workflowDiagram');
            container.innerHTML = '';
            
            appData.workflowSteps.forEach((step, index) => {
                if (index > 0) {
                    const arrow = document.createElement('div');
                    arrow.className = 'workflow-arrow';
                    arrow.textContent = '‚Üí';
                    container.appendChild(arrow);
                }
                
                const stepDiv = document.createElement('div');
                stepDiv.className = 'workflow-step';
                stepDiv.innerHTML = `
                    <div class="step-icon">${step.icon}</div>
                    <div class="step-title" contenteditable="true" onblur="updateWorkflowStep(${index}, 'title', this.textContent)">${step.title}</div>
                    <div class="step-desc" contenteditable="true" onblur="updateWorkflowStep(${index}, 'desc', this.textContent)">${step.desc}</div>
                `;
                container.appendChild(stepDiv);
            });
        }

        function renderStep1Table() {
            const tbody = document.getElementById('step1Body');
            tbody.innerHTML = '';
            
            appData.step1Tasks.forEach((task, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(${index}, 'task', this.textContent)">${task.task}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(${index}, 'person', this.textContent)">${task.person}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(${index}, 'tool', this.textContent)">${task.tool}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(${index}, 'time', this.textContent)">${task.time}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateStep1(${index}, 'output', this.textContent)">${task.output}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderChecklist(containerId, items, dataKey) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            items.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'checklist-item';
                div.innerHTML = `
                    <input type="checkbox" onchange="toggleChecklistItem(this)">
                    <span contenteditable="true" onblur="updateChecklist('${dataKey}', ${index}, this.textContent)">${item}</span>
                    <button class="btn-icon delete" onclick="deleteChecklistItem('${dataKey}', ${index})" title="X√≥a">üóëÔ∏è</button>
                `;
                container.appendChild(div);
            });
            
            // Add button
            const addBtn = document.createElement('button');
            addBtn.className = 'btn btn-primary';
            addBtn.style.marginTop = '10px';
            addBtn.innerHTML = '‚ûï Th√™m m·ª•c';
            addBtn.onclick = () => addChecklistItem(dataKey);
            container.appendChild(addBtn);
        }

        function renderTemplateTable() {
            const tbody = document.getElementById('templateBody');
            tbody.innerHTML = '';
            
            appData.templates.forEach((template, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(${index}, 'effect', this.textContent)">${template.effect}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(${index}, 'id', this.textContent)">${template.id}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(${index}, 'gpt', this.textContent)">${template.gpt}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(${index}, 'tool', this.textContent)">${template.tool}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTemplate(${index}, 'time', this.textContent)">${template.time}</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTemplate(${index})" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderExportTable() {
            const tbody = document.getElementById('exportBody');
            tbody.innerHTML = '';
            
            appData.exportTasks.forEach((task, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="editable" contenteditable="true" onblur="updateExport(${index}, 'task', this.textContent)">${task.task}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(${index}, 'tool', this.textContent)">${task.tool}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(${index}, 'settings', this.textContent)">${task.settings}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateExport(${index}, 'output', this.textContent)">${task.output}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderKPITable() {
            const tbody = document.getElementById('kpiBody');
            tbody.innerHTML = '';
            
            let currentCategory = '';
            appData.kpis.forEach((kpi, index) => {
                if (kpi.category !== currentCategory) {
                    const headerRow = document.createElement('tr');
                    headerRow.innerHTML = `<td colspan="5" style="background: var(--light); font-weight: 700; color: var(--primary);">${kpi.category}</td>`;
                    tbody.appendChild(headerRow);
                    currentCategory = kpi.category;
                }
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(${index}, 'metric', this.textContent)">${kpi.metric}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(${index}, 'desc', this.textContent)">${kpi.desc}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(${index}, 'target', this.textContent)">${kpi.target}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateKPI(${index}, 'measure', this.textContent)">${kpi.measure}</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteKPI(${index})" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderTimeMatrix() {
            const tbody = document.getElementById('timeMatrixBody');
            tbody.innerHTML = '';
            
            appData.timeMatrix.forEach((item, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(${index}, 'effect', this.textContent)">${item.effect}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(${index}, 'total', parseInt(this.textContent))">${item.total}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(${index}, 'image', parseInt(this.textContent))">${item.image}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(${index}, 'video', parseInt(this.textContent))">${item.video}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(${index}, 'qc', parseInt(this.textContent))">${item.qc}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTimeMatrix(${index}, 'bottleneck', this.textContent)">${item.bottleneck}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderCapacityByEffect() {
            const container = document.getElementById('capacityByEffect');
            container.innerHTML = '';
            
            const availableTime = parseInt(document.getElementById('availableTime').textContent);
            
            appData.timeMatrix.forEach(item => {
                const jobsPerDay = Math.floor(availableTime / item.total);
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.innerHTML = `
                    <span class="chart-label">${item.effect}</span>
                    <div class="chart-bar-container">
                        <div class="chart-bar-fill" style="width: ${jobsPerDay * 4}%; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                            ${jobsPerDay} jobs
                        </div>
                    </div>
                    <span style="width: 60px; text-align: right;">${item.total} min</span>
                `;
                container.appendChild(bar);
            });
        }

        function renderTrainingTable() {
            const tbody = document.getElementById('trainingBody');
            tbody.innerHTML = '';
            
            appData.training.forEach((module, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(${index}, 'module', this.textContent)">${module.module}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(${index}, 'content', this.textContent)">${module.content}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(${index}, 'duration', this.textContent)">${module.duration}</span></td>
                    <td><span class="editable" contenteditable="true" onblur="updateTraining(${index}, 'output', this.textContent)">${module.output}</span></td>
                    <td>
                        <div class="row-actions">
                            <button class="btn-icon delete" onclick="deleteTraining(${index})" title="X√≥a">üóëÔ∏è</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderEffectSkills() {
            const container = document.getElementById('effectSkills');
            container.innerHTML = '';
            
            const effects = ['M·∫∑c ƒë·ªãnh', 'N·ªôi th·∫•t', '4 m√πa', 'D2N', 'Noel', 'Th√™m ng∆∞·ªùi', 'N·ªï ·∫£nh', 'Th·∫Øp l·ª≠a', 'D·ª±ng ·∫£nh'];
            
            effects.forEach((effect, index) => {
                const div = document.createElement('div');
                div.className = 'skill-rating';
                div.innerHTML = `
                    <label contenteditable="true" onblur="updateConfig('effectSkill${index}', this.textContent)">${effect}</label>
                    <div class="star-rating" data-skill="${effect.toLowerCase().replace(/\s/g, '_')}">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function renderPromptTabs() {
            const container = document.getElementById('promptTabs');
            container.innerHTML = '';
            
            appData.promptTabNames.forEach((tab, index) => {
                const button = document.createElement('button');
                button.className = `nav-tab ${index === 0 ? 'active' : ''}`;
                button.innerHTML = `<span contenteditable="true" onblur="updatePromptTabName(${index}, this.textContent)" onclick="event.stopPropagation()">${tab.name}</span>`;
                button.onclick = (e) => {
                    if (e.target.tagName !== 'SPAN') {
                        showPromptTemplate(tab.id);
                    }
                };
                container.appendChild(button);
            });
        }

        function renderVideoGenDecisionTable() {
            const tbody = document.querySelector('#videoGenDecisionTable tbody') || document.getElementById('videoGenDecisionTable');
            if (!tbody) {
                const table = document.getElementById('videoGenDecisionTable');
                if (table) {
                    tbody = document.createElement('tbody');
                    table.appendChild(tbody);
                } else return;
            }
            tbody.innerHTML = '';
            
            appData.videoGenDecisions.forEach((decision, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td contenteditable="true" onblur="updateVideoGenDecision(${index}, 'effect', this.textContent)" style="border-color: rgba(255,255,255,0.2);">${decision.effect}</td>
                    <td style="border-color: rgba(255,255,255,0.2);">${decision.arrow}</td>
                    <td style="border-color: rgba(255,255,255,0.2);"><span class="decision-node answer" contenteditable="true" onblur="updateVideoGenDecision(${index}, 'tool', this.textContent)">${decision.tool}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        // ============== ADD FUNCTIONS ==============
        function addEffectRow() {
            const newId = appData.effects.length + 1;
            appData.effects.push({
                id: newId,
                name: 'Hi·ªáu ·ª©ng m·ªõi',
                records: 0,
                percent: 0,
                complexity: 'Trung b√¨nh',
                color: '#' + Math.floor(Math.random()*16777215).toString(16)
            });
            renderEffectsTable();
            showToast('‚úì ƒê√£ th√™m hi·ªáu ·ª©ng m·ªõi');
        }

        function addToolRow() {
            appData.tools.push({
                current: '-',
                currentRole: '-',
                proposed: 'Tool m·ªõi',
                proposedRole: 'Vai tr√≤ m·ªõi'
            });
            renderToolsTable();
            showToast('‚úì ƒê√£ th√™m c√¥ng c·ª• m·ªõi');
        }

        function addStackTool(layerIndex) {
            appData.stackLayers[layerIndex].tools.push('Tool m·ªõi');
            renderStackLayers();
            showToast('‚úì ƒê√£ th√™m tool m·ªõi');
        }

        function addFunctionRow() {
            appData.functions.push({
                func: 'Ch·ª©c nƒÉng m·ªõi',
                main: '-',
                backup: '-',
                pros: '-',
                cons: '-'
            });
            renderFunctionsTable();
            showToast('‚úì ƒê√£ th√™m ch·ª©c nƒÉng m·ªõi');
        }

        function addAssistantRow() {
            appData.assistants.push({
                name: 'NewAssistant-GPT',
                effect: 'Effect m·ªõi',
                purpose: 'M·ª•c ƒë√≠ch',
                input: 'Input c·∫ßn',
                output: 'Output'
            });
            renderAssistantsGrid();
            showToast('‚úì ƒê√£ th√™m Assistant m·ªõi');
        }

        function addTemplateRow() {
            const newId = 'TEMP-' + String(appData.templates.length + 1).padStart(3, '0');
            appData.templates.push({
                effect: 'Effect m·ªõi',
                id: newId,
                gpt: 'GPT m·ªõi',
                tool: 'Tool',
                time: '30 ph√∫t'
            });
            renderTemplateTable();
            showToast('‚úì ƒê√£ th√™m template m·ªõi');
        }

        function addChecklistItem(dataKey) {
            appData[dataKey].push('M·ª•c m·ªõi');
            if (dataKey === 'inputChecklist') {
                renderChecklist('inputChecklist', appData.inputChecklist, 'inputChecklist');
            } else if (dataKey === 'imageQCChecklist') {
                renderChecklist('imageQCChecklist', appData.imageQCChecklist, 'imageQCChecklist');
            } else if (dataKey === 'videoQCChecklist') {
                renderChecklist('videoQCChecklist', appData.videoQCChecklist, 'videoQCChecklist');
            }
            showToast('‚úì ƒê√£ th√™m m·ª•c m·ªõi');
        }

        function addKPIRow() {
            appData.kpis.push({
                metric: 'KPI m·ªõi',
                desc: 'M√¥ t·∫£',
                target: 'Target',
                measure: 'C√°ch ƒëo',
                category: 'Efficiency'
            });
            renderKPITable();
            showToast('‚úì ƒê√£ th√™m KPI m·ªõi');
        }

        function addTrainingModule() {
            const newModule = 'M' + (appData.training.length + 1);
            appData.training.push({
                module: newModule + ': Module m·ªõi',
                content: 'N·ªôi dung',
                duration: '2 gi·ªù',
                output: 'Output'
            });
            renderTrainingTable();
            showToast('‚úì ƒê√£ th√™m module m·ªõi');
        }

        // ============== DELETE FUNCTIONS ==============
        function deleteEffect(index) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a hi·ªáu ·ª©ng n√†y?')) {
                appData.effects.splice(index, 1);
                appData.effects.forEach((e, i) => e.id = i + 1);
                renderEffectsTable();
                showToast('‚úì ƒê√£ x√≥a hi·ªáu ·ª©ng');
            }
        }

        function deleteTool(index) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a c√¥ng c·ª• n√†y?')) {
                appData.tools.splice(index, 1);
                renderToolsTable();
                showToast('‚úì ƒê√£ x√≥a c√¥ng c·ª•');
            }
        }

        function deleteFunction(index) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ch·ª©c nƒÉng n√†y?')) {
                appData.functions.splice(index, 1);
                renderFunctionsTable();
                showToast('‚úì ƒê√£ x√≥a ch·ª©c nƒÉng');
            }
        }

        function deleteAssistant(index) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a Assistant n√†y?')) {
                appData.assistants.splice(index, 1);
                renderAssistantsGrid();
                showToast('‚úì ƒê√£ x√≥a Assistant');
            }
        }

        function deleteTemplate(index) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a template n√†y?')) {
                appData.templates.splice(index, 1);
                renderTemplateTable();
                showToast('‚úì ƒê√£ x√≥a template');
            }
        }

        function deleteChecklistItem(dataKey, index) {
            appData[dataKey].splice(index, 1);
            if (dataKey === 'inputChecklist') {
                renderChecklist('inputChecklist', appData.inputChecklist, 'inputChecklist');
            } else if (dataKey === 'imageQCChecklist') {
                renderChecklist('imageQCChecklist', appData.imageQCChecklist, 'imageQCChecklist');
            } else if (dataKey === 'videoQCChecklist') {
                renderChecklist('videoQCChecklist', appData.videoQCChecklist, 'videoQCChecklist');
            }
            showToast('‚úì ƒê√£ x√≥a m·ª•c');
        }

        function deleteKPI(index) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a KPI n√†y?')) {
                appData.kpis.splice(index, 1);
                renderKPITable();
                showToast('‚úì ƒê√£ x√≥a KPI');
            }
        }

        function deleteTraining(index) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a module n√†y?')) {
                appData.training.splice(index, 1);
                renderTrainingTable();
                showToast('‚úì ƒê√£ x√≥a module');
            }
        }

        // ============== UTILITY ACTIONS ==============
        function toggleChecklistItem(checkbox) {
            const parent = checkbox.closest('.checklist-item');
            if (checkbox.checked) {
                parent.classList.add('checked');
            } else {
                parent.classList.remove('checked');
            }
        }

        function calculateScore() {
            let total = 0;
            document.querySelectorAll('.score-item').forEach(item => {
                const checkbox = item.querySelector('input[type="checkbox"]');
                const scoreInput = item.querySelector('input[type="number"]');
                if (checkbox && checkbox.checked && scoreInput) {
                    total += parseInt(scoreInput.value) || 0;
                }
            });
            
            document.getElementById('totalScore').textContent = total;
            
            let grade = 'F';
            if (total >= 90) grade = 'A (90+)';
            else if (total >= 80) grade = 'B (80-89)';
            else if (total >= 70) grade = 'C (70-79)';
            else grade = 'F (<70)';
            
            document.getElementById('grade').textContent = grade;
        }

        function calculateCapacity() {
            const hours = parseInt(document.getElementById('workingHours').value) || 8;
            const overhead = parseInt(document.getElementById('overhead').value) || 60;
            const artists = parseInt(document.getElementById('numArtists').value) || 1;
            
            const availableTime = (hours * 60) - overhead;
            document.getElementById('availableTime').textContent = availableTime;
            
            const avgTime = appData.timeMatrix.reduce((sum, item) => sum + item.total, 0) / appData.timeMatrix.length;
            const totalCapacity = Math.floor((availableTime / avgTime) * artists);
            document.getElementById('totalCapacity').textContent = '~' + totalCapacity;
            
            renderCapacityByEffect();
        }

        function copyTemplate() {
            const template = document.getElementById('systemPromptTemplate').value;
            navigator.clipboard.writeText(template).then(() => {
                showToast('‚úì ƒê√£ copy template!');
            });
        }

        function copyCurrentPrompt() {
            const imagePrompt = document.getElementById('imagePrompt').value;
            const videoPrompt = document.getElementById('videoPrompt').value;
            const negativePrompt = document.getElementById('negativePrompt').value;
            
            const fullPrompt = `=== PROMPT T·∫†O ·∫¢NH ===\n${imagePrompt}\n\n=== PROMPT T·∫†O VIDEO ===\n${videoPrompt}\n\n=== NEGATIVE PROMPT ===\n${negativePrompt}`;
            
            navigator.clipboard.writeText(fullPrompt).then(() => {
                showToast('‚úì ƒê√£ copy prompt!');
            });
        }

        function showPromptTemplate(type) {
            const template = appData.promptTemplates[type];
            if (template) {
                document.getElementById('promptTitle').textContent = template.title;
                document.getElementById('imagePrompt').value = template.image;
                document.getElementById('videoPrompt').value = template.video;
                document.getElementById('negativePrompt').value = template.negative;
                document.getElementById('cameraMotion').value = template.camera;
                document.getElementById('recommendedTool').value = template.tool;
            }
            
            document.querySelectorAll('#promptTabs .nav-tab').forEach(tab => tab.classList.remove('active'));
            if (event && event.target) {
                const clickedTab = event.target.classList.contains('nav-tab') ? event.target : event.target.closest('.nav-tab');
                if (clickedTab) clickedTab.classList.add('active');
            }
        }

        // ============== SAVE/EXPORT FUNCTIONS ==============
        function saveData(isAutoSave = false) {
            localStorage.setItem('aiVideoEffectsData', JSON.stringify(appData));
            if (isAutoSave) {
                showAutoSaveIndicator();
            } else {
                showToast('‚úì ƒê√£ l∆∞u d·ªØ li·ªáu v√†o localStorage!');
            }
        }

        function loadData() {
            const saved = localStorage.getItem('aiVideoEffectsData');
            if (saved) {
                try {
                    const loaded = JSON.parse(saved);
                    // Merge loaded data with default structure
                    appData = { ...appData, ...loaded };
                    showToast('‚úì ƒê√£ t·∫£i d·ªØ li·ªáu ƒë√£ l∆∞u!');
                } catch (e) {
                    console.error('Error loading data:', e);
                }
            }
        }

        function exportJSON() {
            const dataStr = JSON.stringify(appData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ai-video-effects-data.json';
            a.click();
            URL.revokeObjectURL(url);
            showToast('‚úì ƒê√£ xu·∫•t file JSON!');
        }

        function exportHTML() {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ai-video-effects-dashboard.html';
            a.click();
            URL.revokeObjectURL(url);
            showToast('‚úì ƒê√£ xu·∫•t file HTML!');
        }

        function resetData() {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën reset t·∫•t c·∫£ d·ªØ li·ªáu v·ªÅ m·∫∑c ƒë·ªãnh? D·ªØ li·ªáu hi·ªán t·∫°i s·∫Ω b·ªã m·∫•t.')) {
                localStorage.removeItem('aiVideoEffectsData');
                location.reload();
            }
        }

        // ============== STAR RATING ==============
        function initStarRatings() {
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('star')) {
                    const star = e.target;
                    const value = star.dataset.value;
                    const rating = star.parentElement;
                    const stars = rating.querySelectorAll('.star');
                    
                    stars.forEach((s, i) => {
                        if (i < value) {
                            s.style.color = '#fbbf24';
                            s.classList.add('selected');
                        } else {
                            s.style.color = '#d1d5db';
                            s.classList.remove('selected');
                        }
                    });
                }
            });
        }

        function saveSkillMatrix() {
            const artistName = document.getElementById('skillArtistName').value;
            const date = document.getElementById('skillDate').value;
            
            if (!artistName) {
                showToast('Vui l√≤ng nh·∫≠p t√™n artist!', 'error');
                return;
            }
            
            const skills = {};
            document.querySelectorAll('.star-rating').forEach(rating => {
                const skillName = rating.dataset.skill;
                const selectedStars = rating.querySelectorAll('.star.selected').length;
                skills[skillName] = selectedStars;
            });
            
            const skillData = {
                artistName,
                date,
                skills,
                timestamp: new Date().toISOString()
            };
            
            // Save to appData
            if (!appData.skillMatrices) appData.skillMatrices = [];
            appData.skillMatrices.push(skillData);
            
            saveData();
            showToast('‚úì ƒê√£ l∆∞u Skill Matrix!');
        }

        // ============== MODAL ==============
        function openModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('modalOverlay').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('active');
        }

        document.getElementById('modalOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // ============== INITIALIZATION ==============
        function init() {
            loadData();
            
            renderNavTabs();
            renderEffectsTable();
            renderToolsTable();
            renderStackLayers();
            renderFunctionsTable();
            renderAssistantsGrid();
            renderWorkflowDiagram();
            renderStep1Table();
            renderChecklist('inputChecklist', appData.inputChecklist, 'inputChecklist');
            renderChecklist('imageQCChecklist', appData.imageQCChecklist, 'imageQCChecklist');
            renderChecklist('videoQCChecklist', appData.videoQCChecklist, 'videoQCChecklist');
            renderTemplateTable();
            renderExportTable();
            renderKPITable();
            renderTimeMatrix();
            renderCapacityByEffect();
            renderTrainingTable();
            renderEffectSkills();
            renderPromptTabs();
            renderVideoGenDecisionTable();
            
            initStarRatings();
            
            const today = new Date().toISOString().split('T')[0];
            const jobDateInput = document.getElementById('jobDate');
            const skillDateInput = document.getElementById('skillDate');
            if (jobDateInput) jobDateInput.value = today;
            if (skillDateInput) skillDateInput.value = today;
            
            calculateCapacity();
            
            // Load prompt template
            showPromptTemplate('house');
        }

        document.addEventListener('DOMContentLoaded', init);

        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                saveData();
            }
        });
    </script>


</body></html>